import{u as ce,D as ae,o as ne,s as de,b as pe,C as _e,j as e,t as s,_ as f,l as et,i as tt,B as Qe,f as st,x as Ce,M as re}from"../main.aHgQEcd5.1748844857753.js";import{r as m,u as it}from"./vendor.Cii7CkpR.1748844857753.js";import{t as me}from"./editor-value.B-WWB6lV.1748844857753.js";import"./toast.D8JcjdRp.1748844857753.js";import{j as x,s as M,b as se,C as l,A as le,u,w as K,v as je,x as V,D as te,B as Y,T as fe,I as ot,o as Z,ai as nt,$ as lt,n as Be,F as Pe,a as rt,q as ct,aj as at,d as be,Y as dt,ak as we,al as Ne,k as pt,S as _t}from"./antd.v1CHGtH-.1748844857753.js";import{M as X,R as mt,c as xt}from"./index.CDg17qwk.1748844857753.js";function gt({setIsLoading:E}){const P=[],N=[],W={ticket_file_upload:!0,file_upload_size:2,allowed_type:["image","docs","text","pdf"],file_image_popup:!0,file_preview_mode:!1},y=ce(),[p]=x.useForm(),[g,L]=m.useState(null),[i,Q]=m.useState(null),[o,I]=m.useState(!0),[A,w]=m.useState(!0),[C,T]=m.useState(""),[G,J]=ae(),{Text:H}=fe,U=ne({action:"settings_data_file"}),c=(n,a)=>{a=f.mapValues(a,function(_){return f.isString(_)?f.trim(_):_});for(const _ of P){const b=n==null?void 0:n[_];b&&f.includes(b,"*")&&(a[_]=g[_])}for(const _ of N)(n==null?void 0:n[_])&&(a[_]=me((n==null?void 0:n[_])||""));Q(a||{}),I(!(a!=null&&a.ticket_file_upload)||!1);const r=f.pick(g,f.keys(a));f.isEqual(r,a)?w(!0):g!=null&&g.ticket_file_upload||a!=null&&a.ticket_file_upload?w(!1):w(!0)},d=async n=>{const a=n!=null&&n.ticket_file_upload?"A":"I",r=f.toInteger((n==null?void 0:n.file_upload_size)||0)||0,_=(n==null?void 0:n.allowed_type)||[],b=n!=null&&n.file_image_popup?"Y":"N",h=n!=null&&n.file_preview_mode?"Y":"N";G({params:{action:"settings_file"},data:{ticket_file_upload:a,file_upload_size:r,allowed_type:_,file_image_popup:b,file_preview_mode:h}})},j=()=>{p.setFieldsValue(g||{}),c(null,g)};return m.useEffect(()=>{p.setFieldsValue(g||{}),Q(g||{}),I(!(g!=null&&g.ticket_file_upload)||!1),w(!0)},[g,p]),m.useEffect(()=>{var b,h;const{data:n,isFetching:a,isError:r,error:_}=U;E(a),!a&&r&&M.error((h=(b=_==null?void 0:_.data)==null?void 0:b.errors)==null?void 0:h.message),!a&&!r&&n&&L((n==null?void 0:n.data)||{})},[U,E]),m.useEffect(()=>{var b,h,B,O;const{data:n,isLoading:a,isError:r,error:_}=J;y(a?de():pe()),!a&&r&&((h=(b=_==null?void 0:_.data)==null?void 0:b.errors)!=null&&h.message)&&M.error((O=(B=_==null?void 0:_.data)==null?void 0:B.errors)==null?void 0:O.message),!a&&!r&&n&&n!=null&&n.msg&&(n!=null&&n.status?(T(""),M.success(n==null?void 0:n.msg)):(T(n==null?void 0:n.msg),_e()))},[J,y]),e.jsx(x,{form:p,name:"saveGeneralFile",layout:"vertical",autoComplete:"off",onFinish:d,onValuesChange:c,initialValues:W,children:e.jsxs(se,{children:[C?e.jsx(l,{span:24,children:e.jsx(le,{message:C,type:"error",showIcon:!0,closable:!0,afterClose:()=>T(""),style:{marginBottom:"24px"}})}):null,e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"ticket_file_upload",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{})}),e.jsx(H,{onClick:()=>{p.setFieldValue("ticket_file_upload",!(i!=null&&i.ticket_file_upload)),c(null,p.getFieldsValue())},style:{cursor:"pointer"},children:i!=null&&i.ticket_file_upload?s("Click to disable file upload."):s("Click to enable file upload and setup.")})]})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Max file size"),name:"file_upload_size",rules:[{required:!0,message:s("%s is required.",s("Max file size"))}],help:o?"":void 0,children:e.jsx(je,{addonAfter:"MB",disabled:o,style:{width:"100%"}})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Allowed File Types"),name:"allowed_type",htmlFor:null,children:e.jsx(V.Group,{disabled:o,children:e.jsxs(se,{children:[e.jsx(l,{span:24,children:e.jsx(V,{value:"image",style:{lineHeight:"32px"},children:s("Photos %s","(JPG, JPEG, PNG, WEBP, GIF)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"video",style:{lineHeight:"32px"},children:s("Videos %s","(MP4, WEBM, MOV, AVI, OGV)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"audio",style:{lineHeight:"32px"},children:s("Audios %s","(MP3, WAV, AAC, OGG, FLAC, M4A, WMA)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"docs",style:{lineHeight:"32px"},children:s("Docs %s","(DOC, DOCX, XLS, XLSX)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"text",style:{lineHeight:"32px"},children:s("Text %s","(TXT)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"csv",style:{lineHeight:"32px"},children:s("CSV %s","(CSV)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"pdf",style:{lineHeight:"32px"},children:s("PDF %s","(PDF)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"zip",style:{lineHeight:"32px"},children:s("Zip %s","(ZIP)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"json",style:{lineHeight:"32px"},children:s("JSON %s","(JSON)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"three_d_model",style:{lineHeight:"32px"},children:s("3D Models %s","(STL)")})}),e.jsx(l,{span:24,children:e.jsx(V,{value:"medical_image",style:{lineHeight:"32px"},children:s("Medical Images %s","(DCM)")})})]})})})}),e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"file_image_popup",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(H,{onClick:()=>{o||(p.setFieldValue("file_image_popup",!(i!=null&&i.file_image_popup)),c(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable popup for view photos.")})]})}),null,e.jsx(l,{span:24,children:e.jsxs(u,{children:[e.jsx(Y,{type:"primary",htmlType:"submit",loading:!1,disabled:A,children:s("Save Changes")}),e.jsx(Y,{htmlType:"button",onClick:j,disabled:A,children:s("Discard")})]})})]})})}const Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==";function De({fileUrl:E,setFileUrl:P,baseFileUrl:N,showFileUrl:W,onChange:y,removable:p,width:g,height:L}){const i=(window==null?void 0:window.wp)||null,Q=()=>{if(!i)return;const I=i==null?void 0:i.media({multiple:!1,library:{type:"image"}});I.on("select",()=>{const A=I.state().get("selection").first().toJSON();P((A==null?void 0:A.url)||""),y&&y(A)}),I.open()},o=()=>{P(N||""),y&&y(null)};return e.jsxs(u,{direction:"vertical",style:{width:"100%"},children:[e.jsx(ot,{width:(E||N)&&g||100,height:(E||N)&&L||100,preview:!1,fallback:Le,src:E||N||Le,onClick:Q,style:{cursor:"pointer",objectFit:"cover"}}),W?e.jsx(Z,{value:E||N||"",readOnly:!0,placeholder:s("Nothing selected"),onClick:Q}):null,e.jsxs(u,{children:[e.jsx(Y,{size:"small",icon:e.jsx(nt,{}),onClick:Q,children:s("Upload")}),p&&E&&E!==N?e.jsx(Y,{size:"small",icon:e.jsx(lt,{}),danger:!0,onClick:o}):null]})]})}function ht({setIsLoading:E}){const P=[],N=[],W={app_favicon:"",app_logo:""},y=ce(),[p]=x.useForm(),[g,L]=m.useState(null),[i,Q]=m.useState(!0),[o,I]=m.useState(""),[A,w]=m.useState(null),[C,T]=m.useState(""),[G,J]=m.useState(""),[H,U]=ae(),c=ne({action:"settings_data_logo"}),d=m.useCallback(r=>{w((r==null?void 0:r.default)||null),T((r==null?void 0:r.app_favicon)||""),J((r==null?void 0:r.app_logo)||"")},[]),j=(r,_)=>{_=f.mapValues(_,function(h){return f.isString(h)?f.trim(h):h});for(const h of P){const B=r==null?void 0:r[h];B&&f.includes(B,"*")&&(_[h]=g[h])}for(const h of N)(r==null?void 0:r[h])&&(_[h]=me((r==null?void 0:r[h])||""));const b=f.pick(g,f.keys(_));f.isEqual(b,_)?Q(!0):Q(!1)},n=async()=>{const r=(C==null?void 0:C.trim())||"",_=(G==null?void 0:G.trim())||"";H({params:{action:"settings_logo"},data:{app_favicon:r,app_logo:_}})},a=()=>{p.setFieldsValue(g||{}),j(null,g),d(g||{})};return m.useEffect(()=>{p.setFieldsValue(g||{}),d(g||{}),Q(!0)},[g,p,d]),m.useEffect(()=>{var B,O;const{data:r,isFetching:_,isError:b,error:h}=c;E(_),!_&&b&&M.error((O=(B=h==null?void 0:h.data)==null?void 0:B.errors)==null?void 0:O.message),!_&&!b&&r&&L((r==null?void 0:r.data)||{})},[c,E]),m.useEffect(()=>{var B,O,D,S;const{data:r,isLoading:_,isError:b,error:h}=U;y(_?de():pe()),!_&&b&&((O=(B=h==null?void 0:h.data)==null?void 0:B.errors)!=null&&O.message)&&M.error((S=(D=h==null?void 0:h.data)==null?void 0:D.errors)==null?void 0:S.message),!_&&!b&&r&&r!=null&&r.msg&&(r!=null&&r.status?(I(""),M.success(r==null?void 0:r.msg)):(I(r==null?void 0:r.msg),_e()))},[U,y]),e.jsx(x,{form:p,name:"saveGeneralLogo",layout:"vertical",autoComplete:"off",onFinish:n,onValuesChange:j,initialValues:W,children:e.jsxs(se,{children:[o?e.jsx(l,{span:24,children:e.jsx(le,{message:o,type:"error",showIcon:!0,closable:!0,afterClose:()=>I(""),style:{marginBottom:"24px"}})}):null,e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Portal Icon"),name:"app_favicon",htmlFor:null,children:e.jsx(De,{fileUrl:C,setFileUrl:T,baseFileUrl:(A==null?void 0:A.app_favicon)||"",showFileUrl:!0,removable:!0})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("Portal Logo")}),name:"app_logo",htmlFor:null,children:e.jsx(De,{fileUrl:G,setFileUrl:J,baseFileUrl:(A==null?void 0:A.app_logo)||"",showFileUrl:!0,width:"auto",height:34,removable:!0})})}),e.jsx(l,{span:24,children:e.jsxs(u,{children:[e.jsx(Y,{type:"primary",htmlType:"submit",loading:!1,disabled:i,children:s("Save Changes")}),e.jsx(Y,{htmlType:"button",onClick:a,disabled:i,children:s("Discard")})]})})]})})}const{Text:q}=fe,he=tt();function ft({setIsLoading:E}){const P=[],N=[],W={client_role:"subscriber",ticket_page:"",ticket_page_shortcode:!1,footer_cp_text:"",is_wp_login_reg:!1,login_page:"",reg_page:"",is_wp_profile_link:!1,wp_profile_link:"",is_seq_track_id:!1,track_id_prefix:"",track_id_min_len:1,auto_close_ticket:!1,auto_close_ticket_after:14,disable_closed_ticket_reply:!1,disable_closed_ticket_reply_notice:"",is_hide_cp_text:!1,is_public_ticket_opt_on_creation:!1,is_public_ticket_opt_on_details:!1,is_public_tickets_menu:!1,disable_registration_form:!1,disable_guest_ticket_creation:!1,disable_guest_email_to_ticket_creation:!1,close_ticket_opt_for_customer:!1,disable_ticket_hotlink:!1},y=ce(),[p]=x.useForm(),[g,L]=m.useState(null),[i,Q]=m.useState(null),[o,I]=m.useState(!0),[A,w]=m.useState(!0),[C,T]=m.useState(""),[G,J]=m.useState([]),[H,U]=m.useState([]),[c,d]=m.useState(!0),[j,n]=m.useState(!0),[a,r]=m.useState(!0),[_,b]=ae(),h=ne({action:"settings_data"}),B=ne({action:"settings_page_for_select",select:!0}),O=et({action:"role_editable_for_select"}),D=!!(he||o),S=(t,F)=>{F=f.mapValues(F,function(k){return f.isString(k)?f.trim(k):k});for(const k of P){const R=t==null?void 0:t[k];R&&f.includes(R,"*")&&(F[k]=g[k])}for(const k of N)(t==null?void 0:t[k])&&(F[k]=me((t==null?void 0:t[k])||""));Q(F||{}),I(!1);const z=f.pick(g,f.keys(F));f.isEqual(z,F)?w(!0):w(!1)},xe=async t=>{var ke,Ae,ue,ye,Ee,Fe,Ie,Se;const F=((ke=t==null?void 0:t.client_role)==null?void 0:ke.trim())||"",z=((Ae=t==null?void 0:t.ticket_page)==null?void 0:Ae.trim())||"",k=t!=null&&t.ticket_page_shortcode?"Y":"N",R=((ue=t==null?void 0:t.footer_cp_text)==null?void 0:ue.trim())||"",$=t!=null&&t.is_wp_login_reg?"Y":"N",v=((ye=t==null?void 0:t.login_page)==null?void 0:ye.trim())||"",ee=((Ee=t==null?void 0:t.reg_page)==null?void 0:Ee.trim())||"",Te=t!=null&&t.is_wp_profile_link?"Y":"N",Re=((Fe=t==null?void 0:t.wp_profile_link)==null?void 0:Fe.trim())||"",Ke=t!=null&&t.is_seq_track_id?"Y":"N",Me=((Ie=t==null?void 0:t.track_id_prefix)==null?void 0:Ie.trim())||"",Ge=f.toInteger((t==null?void 0:t.track_id_min_len)||0)||0,Je=t!=null&&t.auto_close_ticket?"Y":"N",ze=f.toInteger((t==null?void 0:t.auto_close_ticket_after)||0)||0,qe=t!=null&&t.disable_closed_ticket_reply?"Y":"N",Ye=((Se=t==null?void 0:t.disable_closed_ticket_reply_notice)==null?void 0:Se.trim())||"",He=t!=null&&t.is_hide_cp_text?"Y":"N",Ue=t!=null&&t.is_public_ticket_opt_on_creation?"Y":"N",Oe=t!=null&&t.is_public_ticket_opt_on_details?"Y":"N",Ze=t!=null&&t.is_public_tickets_menu?"Y":"N",Xe=t!=null&&t.disable_registration_form?"Y":"N",We=t!=null&&t.disable_guest_ticket_creation?"Y":"N",$e=t!=null&&t.disable_guest_email_to_ticket_creation?"Y":"N",Ve=t!=null&&t.close_ticket_opt_for_customer?"Y":"N",ve=t!=null&&t.disable_ticket_hotlink?"Y":"N";_({params:{action:"settings"},data:{client_role:F,ticket_page:z,ticket_page_shortcode:k,footer_cp_text:R,is_wp_login_reg:$,login_page:v,reg_page:ee,is_wp_profile_link:Te,wp_profile_link:Re,is_seq_track_id:Ke,track_id_prefix:Me,track_id_min_len:Ge,auto_close_ticket:Je,auto_close_ticket_after:ze,disable_closed_ticket_reply:qe,disable_closed_ticket_reply_notice:Ye,is_hide_cp_text:He,is_public_ticket_opt_on_creation:Ue,is_public_ticket_opt_on_details:Oe,is_public_tickets_menu:Ze,disable_registration_form:Xe,disable_guest_ticket_creation:We,disable_guest_email_to_ticket_creation:$e,close_ticket_opt_for_customer:Ve,disable_ticket_hotlink:ve}})},ge=()=>{p.setFieldsValue(g||{}),S(null,g)},ie=t=>he?e.jsxs(Pe,{onClick:()=>y(Qe()),gap:"0 4px",wrap:!0,children:[t,e.jsx(rt,{bordered:!1,color:"error",style:{margin:0},children:s("Pro")})]}):t,oe=()=>he?e.jsx("span",{onClick:()=>y(Qe()),style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:2}}):null;return m.useEffect(()=>{p.setFieldsValue(g||{}),Q(g||{}),I(!1),w(!0)},[g,p]),m.useEffect(()=>{var R,$;const{data:t,isFetching:F,isError:z,error:k}=h;d(F),!F&&z&&M.error(($=(R=k==null?void 0:k.data)==null?void 0:R.errors)==null?void 0:$.message),!F&&!z&&t&&L((t==null?void 0:t.data)||{})},[h]),m.useEffect(()=>{var R,$,v,ee;const{data:t,isFetching:F,isError:z,error:k}=B;n(F),!F&&z&&M.error(($=(R=k==null?void 0:k.data)==null?void 0:R.errors)==null?void 0:$.message),!F&&!z&&t&&t!=null&&t.status&&(v=t==null?void 0:t.data)!=null&&v.result&&J((ee=t==null?void 0:t.data)==null?void 0:ee.result)},[B]),m.useEffect(()=>{var R,$,v,ee;const{data:t,isFetching:F,isError:z,error:k}=O;r(F),!F&&z&&M.error(($=(R=k==null?void 0:k.data)==null?void 0:R.errors)==null?void 0:$.message),!F&&!z&&t&&t!=null&&t.status&&(v=t==null?void 0:t.data)!=null&&v.result&&U((ee=t==null?void 0:t.data)==null?void 0:ee.result)},[O]),m.useEffect(()=>{var R,$,v,ee;const{data:t,isLoading:F,isError:z,error:k}=b;y(F?de():pe()),!F&&z&&(($=(R=k==null?void 0:k.data)==null?void 0:R.errors)!=null&&$.message)&&M.error((ee=(v=k==null?void 0:k.data)==null?void 0:v.errors)==null?void 0:ee.message),!F&&!z&&t&&t!=null&&t.msg&&(t!=null&&t.status?(T(""),M.success(t==null?void 0:t.msg)):(T(t==null?void 0:t.msg),_e()))},[b,y]),m.useEffect(()=>{!c&&!j&&!a&&E(!1)},[c,j,a,E]),e.jsx(x,{form:p,name:"saveGeneral",layout:"vertical",autoComplete:"off",onFinish:xe,onValuesChange:S,initialValues:W,children:e.jsxs(se,{children:[C?e.jsx(l,{span:24,children:e.jsx(le,{message:C,type:"error",showIcon:!0,closable:!0,afterClose:()=>T(""),style:{marginBottom:"24px"}})}):null,e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Client Role"),name:"client_role",rules:[{required:!0,message:s("%s is required.",s("Client role"))}],children:e.jsx(Be,{style:{width:"100%"},options:H,disabled:o})})}),e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("Ticket Page")}),name:"ticket_page",children:e.jsx(Be,{style:{width:"100%"},options:G,disabled:o})})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"ticket_page_shortcode",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("ticket_page_shortcode",!(i!=null&&i.ticket_page_shortcode)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable shortcode mode for ticket page.")})]})}),i!=null&&i.ticket_page_shortcode?e.jsx(l,{span:24,children:e.jsx(le,{message:s("Please ensure you add the shortcode %s to your designated ticket page for proper functionality.","[supportgenix]"),type:"info",style:{marginBottom:"24px"}})}):null,e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(x.Item,{label:ie(e.jsx(X,{text:s("Footer Copyright Text")})),name:"footer_cp_text",rules:[{whitespace:!0}],help:D?"":void 0,children:[e.jsx(Z,{disabled:D}),oe()]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"is_hide_cp_text",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("is_hide_cp_text",!(i!=null&&i.is_hide_cp_text)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Remove powered-by.")})]})}),e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"is_wp_login_reg",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("is_wp_login_reg",!(i!=null&&i.is_wp_login_reg)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable Wordpress Login Register.")})]})}),i!=null&&i.is_wp_login_reg?e.jsxs(e.Fragment,{children:[e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("Login Page Link")}),name:"login_page",rules:[{whitespace:!0},{type:"url",message:s("Please enter a valid URL.")}],help:o?"":void 0,children:e.jsx(Z,{disabled:o})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("Registration Link")}),name:"reg_page",rules:[{whitespace:!0},{type:"url",message:s("Please enter a valid URL.")}],help:o?"":void 0,children:e.jsx(Z,{disabled:o})})})]}):null,e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"is_wp_profile_link",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("is_wp_profile_link",!(i!=null&&i.is_wp_profile_link)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable Wordpress Profile Link.")})]})}),i!=null&&i.is_wp_profile_link?e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("WP Profile Link")}),name:"wp_profile_link",rules:[{whitespace:!0},{type:"url",message:s("Please enter a valid URL.")}],help:o?"":void 0,children:e.jsx(Z,{disabled:o})})}):null,e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsxs(x.Item,{name:"is_seq_track_id",valuePropName:"checked",style:{marginBottom:0},children:[e.jsx(K,{size:"small",disabled:D}),oe()]}),ie(e.jsx(q,{onClick:()=>{D||(p.setFieldValue("is_seq_track_id",!(i!=null&&i.is_seq_track_id)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable Sequential Ticket Track ID.")}))]})}),i!=null&&i.is_seq_track_id?e.jsxs(e.Fragment,{children:[e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Ticket track ID prefix"),name:"track_id_prefix",rules:[{whitespace:!0}],help:o?"":void 0,children:e.jsx(Z,{disabled:o})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Ticket track ID length"),name:"track_id_min_len",help:o?"":void 0,children:e.jsx(je,{disabled:o,style:{width:"100%"}})})})]}):null,e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsxs(x.Item,{name:"auto_close_ticket",valuePropName:"checked",style:{marginBottom:0},children:[e.jsx(K,{size:"small",disabled:D}),oe()]}),ie(e.jsx(q,{onClick:()=>{D||(p.setFieldValue("auto_close_ticket",!(i!=null&&i.auto_close_ticket)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable auto ticket close.")}))]})}),i!=null&&i.auto_close_ticket?e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Auto ticket close after"),name:"auto_close_ticket_after",help:o?"":void 0,children:e.jsx(je,{addonAfter:s("Days"),disabled:o,style:{width:"100%"}})})}):null,e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsxs(x.Item,{name:"disable_closed_ticket_reply",valuePropName:"checked",style:{marginBottom:0},children:[e.jsx(K,{size:"small",disabled:D}),oe()]}),ie(e.jsx(q,{onClick:()=>{D||(p.setFieldValue("disable_closed_ticket_reply",!(i!=null&&i.disable_closed_ticket_reply)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Disable closed ticket reply.")}))]})}),i!=null&&i.disable_closed_ticket_reply?e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("Disable reply notice text")}),name:"disable_closed_ticket_reply_notice",rules:[{whitespace:!0}],help:o?"":void 0,children:e.jsx(Z,{disabled:o})})}):null,e.jsx(l,{span:24,children:e.jsx(te,{style:{margin:"0 0 24px 0"}})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"is_public_ticket_opt_on_creation",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("is_public_ticket_opt_on_creation",!(i!=null&&i.is_public_ticket_opt_on_creation)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable public ticket option (on creation).")})]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"is_public_ticket_opt_on_details",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("is_public_ticket_opt_on_details",!(i!=null&&i.is_public_ticket_opt_on_details)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable public ticket option (on details).")})]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"is_public_tickets_menu",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("is_public_tickets_menu",!(i!=null&&i.is_public_tickets_menu)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable to show public tickets.")})]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"disable_registration_form",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("disable_registration_form",!(i!=null&&i.disable_registration_form)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Disable registration form.")})]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"disable_guest_ticket_creation",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("disable_guest_ticket_creation",!(i!=null&&i.disable_guest_ticket_creation)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Disable guest ticket creation.")})]})}),he?null:e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsxs(x.Item,{name:"disable_guest_email_to_ticket_creation",valuePropName:"checked",style:{marginBottom:0},children:[e.jsx(K,{size:"small",disabled:D}),oe()]}),ie(e.jsx(q,{onClick:()=>{D||(p.setFieldValue("disable_guest_email_to_ticket_creation",!(i!=null&&i.disable_guest_email_to_ticket_creation)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Disable email to ticket creation for non-registered user.")}))]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsxs(x.Item,{name:"close_ticket_opt_for_customer",valuePropName:"checked",style:{marginBottom:0},children:[e.jsx(K,{size:"small",disabled:D}),oe()]}),ie(e.jsx(q,{onClick:()=>{D||(p.setFieldValue("close_ticket_opt_for_customer",!(i!=null&&i.close_ticket_opt_for_customer)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Enable ticket close option for customer.")}))]})}),e.jsx(l,{span:24,children:e.jsxs(u,{align:"center",style:{marginBottom:"24px"},children:[e.jsx(x.Item,{name:"disable_ticket_hotlink",valuePropName:"checked",style:{marginBottom:0},children:e.jsx(K,{size:"small",disabled:o})}),e.jsx(q,{onClick:()=>{o||(p.setFieldValue("disable_ticket_hotlink",!(i!=null&&i.disable_ticket_hotlink)),S(null,p.getFieldsValue()))},style:{cursor:o?"not-allowed":"pointer"},disabled:o,children:s("Disable ticket hotlink (except guest ticket).")})]})}),e.jsx(l,{span:24,children:e.jsxs(u,{children:[e.jsx(Y,{type:"primary",htmlType:"submit",loading:!1,disabled:A,children:s("Save Changes")}),e.jsx(Y,{htmlType:"button",onClick:ge,disabled:A,children:s("Discard")})]})})]})})}function jt({setIsLoading:E}){const P=[],N=[],W={tkt_status_new:s("New"),tkt_status_active:s("Active"),tkt_status_inactive:s("Inactive"),tkt_status_closed:s("Closed"),tkt_status_in_progress:s("In-progress"),tkt_status_re_open:s("Re-open"),tkt_status_deleted:s("Trashed")},y=ce(),[p]=x.useForm(),[g,L]=m.useState(null),[i,Q]=m.useState(!0),[o,I]=m.useState(!0),[A,w]=m.useState(""),[C,T]=ae(),G=ne({action:"settings_data_status"}),J=(c,d)=>{d=f.mapValues(d,function(n){return f.isString(n)?f.trim(n):n});for(const n of P){const a=c==null?void 0:c[n];a&&f.includes(a,"*")&&(d[n]=g[n])}for(const n of N)(c==null?void 0:c[n])&&(d[n]=me((c==null?void 0:c[n])||""));Q(!1);const j=f.pick(g,f.keys(d));f.isEqual(j,d)?I(!0):I(!1)},H=async c=>{var h,B,O,D,S,xe,ge;const d=((h=c==null?void 0:c.tkt_status_new)==null?void 0:h.trim())||"",j=((B=c==null?void 0:c.tkt_status_active)==null?void 0:B.trim())||"",n=((O=c==null?void 0:c.tkt_status_inactive)==null?void 0:O.trim())||"",a=((D=c==null?void 0:c.tkt_status_closed)==null?void 0:D.trim())||"",r=((S=c==null?void 0:c.tkt_status_in_progress)==null?void 0:S.trim())||"",_=((xe=c==null?void 0:c.tkt_status_re_open)==null?void 0:xe.trim())||"",b=((ge=c==null?void 0:c.tkt_status_deleted)==null?void 0:ge.trim())||"";C({params:{action:"settings_status"},data:{tkt_status_new:d,tkt_status_active:j,tkt_status_inactive:n,tkt_status_closed:a,tkt_status_in_progress:r,tkt_status_re_open:_,tkt_status_deleted:b}})},U=()=>{p.setFieldsValue(g||{}),J(null,g)};return m.useEffect(()=>{p.setFieldsValue(g||{}),Q(!1),I(!0)},[g,p]),m.useEffect(()=>{var a,r;const{data:c,isFetching:d,isError:j,error:n}=G;E(d),!d&&j&&M.error((r=(a=n==null?void 0:n.data)==null?void 0:a.errors)==null?void 0:r.message),!d&&!j&&c&&L((c==null?void 0:c.data)||{})},[G,E]),m.useEffect(()=>{var a,r,_,b;const{data:c,isLoading:d,isError:j,error:n}=T;y(d?de():pe()),!d&&j&&((r=(a=n==null?void 0:n.data)==null?void 0:a.errors)!=null&&r.message)&&M.error((b=(_=n==null?void 0:n.data)==null?void 0:_.errors)==null?void 0:b.message),!d&&!j&&c&&c!=null&&c.msg&&(c!=null&&c.status?(w(""),M.success(c==null?void 0:c.msg)):(w(c==null?void 0:c.msg),_e()))},[T,y]),e.jsx(x,{form:p,name:"saveGeneralStatus",layout:"vertical",autoComplete:"off",onFinish:H,onValuesChange:J,initialValues:W,children:e.jsxs(se,{children:[A?e.jsx(l,{span:24,children:e.jsx(le,{message:A,type:"error",showIcon:!0,closable:!0,afterClose:()=>w(""),style:{marginBottom:"24px"}})}):null,e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("New"))}),name:"tkt_status_new",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("New"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("Active"))}),name:"tkt_status_active",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("Active"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("Inactive"))}),name:"tkt_status_inactive",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("Inactive"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("Closed"))}),name:"tkt_status_closed",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("Closed"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("In-progress"))}),name:"tkt_status_in_progress",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("In-progress"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("Re-open"))}),name:"tkt_status_re_open",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("Re-open"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:e.jsx(X,{text:s("%s (Status Label)",s("Trashed"))}),name:"tkt_status_deleted",rules:[{required:!0,message:s("%s is required.",s("%s (status label)",s("Trashed"))),whitespace:!0}],help:i?"":void 0,children:e.jsx(Z,{disabled:i})})}),e.jsx(l,{span:24,children:e.jsxs(u,{children:[e.jsx(Y,{type:"primary",htmlType:"submit",loading:!1,disabled:o,children:s("Save Changes")}),e.jsx(Y,{htmlType:"button",onClick:U,disabled:o,children:s("Discard")})]})})]})})}const{Text:bt}=fe;function kt({setIsLoading:E}){const P=["primary_brand_color"],N=[],W=[],y={text_editor:"tinymce",primary_brand_color:"#0bbc5c"},p=ce(),[g]=x.useForm(),[L,i]=m.useState(null),[Q,o]=m.useState(!0),[I,A]=m.useState(!0),[w,C]=m.useState(""),[T,G]=ae(),J=ne({action:"settings_data_style"}),H=(d,j)=>{j=f.mapValues(j,function(a,r){return f.includes(P,r)&&(typeof a=="object"&&(a=a.toHexString()),a=f.toLower(a)),f.isString(a)?f.trim(a):a});for(const a of N){const r=d==null?void 0:d[a];r&&f.includes(r,"*")&&(j[a]=L[a])}for(const a of W)(d==null?void 0:d[a])&&(j[a]=me((d==null?void 0:d[a])||""));o(!1);const n=f.pick(L,f.keys(j));f.isEqual(n,j)?A(!0):A(!1)},U=async d=>{var r,_,b;d=f.mapValues(d,function(h,B){return f.includes(P,B)&&(typeof h=="object"&&(h=h.toHexString()),h=f.toLower(h)),h});const j=((r=d==null?void 0:d.text_editor)==null?void 0:r.trim())||"",n=((_=d==null?void 0:d.primary_brand_color)==null?void 0:_.trim())||"",a=((b=d==null?void 0:d.custom_css)==null?void 0:b.trim())||"";T({params:{action:"settings_style"},data:{text_editor:j,primary_brand_color:n,custom_css:a}})},c=()=>{g.setFieldsValue(L||{}),H(null,L)};return m.useEffect(()=>{g.setFieldsValue(L||{}),o(!1),A(!0)},[L,g]),m.useEffect(()=>{var r,_;const{data:d,isFetching:j,isError:n,error:a}=J;E(j),!j&&n&&M.error((_=(r=a==null?void 0:a.data)==null?void 0:r.errors)==null?void 0:_.message),!j&&!n&&d&&i((d==null?void 0:d.data)||{})},[J,E]),m.useEffect(()=>{var r,_,b,h;const{data:d,isLoading:j,isError:n,error:a}=G;p(j?de():pe()),!j&&n&&((_=(r=a==null?void 0:a.data)==null?void 0:r.errors)!=null&&_.message)&&M.error((h=(b=a==null?void 0:a.data)==null?void 0:b.errors)==null?void 0:h.message),!j&&!n&&d&&d!=null&&d.msg&&(d!=null&&d.status?(C(""),M.success(d==null?void 0:d.msg)):(C(d==null?void 0:d.msg),_e()))},[G,p]),e.jsx(x,{form:g,name:"saveGeneralStyle",layout:"vertical",autoComplete:"off",onFinish:U,onValuesChange:H,initialValues:y,children:e.jsxs(se,{children:[w?e.jsx(l,{span:24,children:e.jsx(le,{message:w,type:"error",showIcon:!0,closable:!0,afterClose:()=>C(""),style:{marginBottom:"24px"}})}):null,e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Text Editor"),name:"text_editor",htmlFor:null,children:e.jsx(ct.Group,{options:[{value:"tinymce",label:"Default"},{value:"quill",label:"Quill Editor"}]})})}),e.jsx(l,{span:24,children:e.jsxs(u,{direction:"vertical",style:{width:"100%",marginBottom:"24px"},children:[e.jsx(bt,{children:s("Primary Brand Color")}),e.jsxs(Pe,{align:"center",gap:"4px 8px",wrap:!0,children:[e.jsx(x.Item,{name:"primary_brand_color",htmlFor:null,help:Q?"":void 0,style:{marginBottom:0},children:e.jsx(at,{showText:!0,disabledAlpha:!0})}),e.jsx(be,{title:s("Reset"),children:e.jsx(Y,{icon:e.jsx(dt,{}),onClick:()=>{g.setFieldValue("primary_brand_color","#0bbc5c"),H({primary_brand_color:"#0bbc5c"},g.getFieldsValue())}})})]})]})}),e.jsx(l,{span:24,children:e.jsx(x.Item,{label:s("Custom CSS"),name:"custom_css",htmlFor:null,help:Q?"":void 0,children:e.jsx(mt,{height:"200px",extensions:[xt()]})})}),e.jsx(l,{span:24,children:e.jsxs(u,{children:[e.jsx(Y,{type:"primary",htmlType:"submit",loading:!1,disabled:I,children:s("Save Changes")}),e.jsx(Y,{htmlType:"button",onClick:c,disabled:I,children:s("Discard")})]})})]})})}const{Title:At}=fe;function Qt(){var U;const E=st(),P=it(),[N,W]=m.useState(!0),[y,p]=m.useState(!0),[g,L]=m.useState(!0),[i,Q]=m.useState(!0),[o,I]=m.useState(!0),[A,w]=m.useState(""),C=(U=Ce(P,"settings/general",["main"]))==null?void 0:U[0];function T(){const c=A||C||"",d={main:e.jsx(ft,{setIsLoading:p}),logo:e.jsx(ht,{setIsLoading:L}),file:e.jsx(gt,{setIsLoading:Q}),status:e.jsx(jt,{setIsLoading:I}),style:e.jsx(kt,{setIsLoading:I})};return e.jsx(e.Fragment,{children:Object.entries(d).map(([j,n])=>e.jsx("div",{className:j===c?"":"sg-hidden",children:n},j))})}m.useEffect(()=>{!y&&!g&&!i&&!o&&W(!1)},[y,g,i,o]),m.useEffect(()=>{var c;w((c=Ce(P,"settings/general",["main"]))==null?void 0:c[0])},[P]);const G=[{key:"main",label:e.jsx(re,{to:"/settings",style:{color:"inherit"},children:s("Main")})},{key:"logo",label:e.jsx(re,{to:"/settings/general/logo",style:{color:"inherit"},children:s("Logo")})},{key:"file",label:e.jsx(re,{to:"/settings/general/file",style:{color:"inherit"},children:s("File")})},{key:"status",label:e.jsx(re,{to:"/settings/general/status",pro:!0,badge:!0,style:{color:"inherit"},children:s("Status")})},{key:"style",label:e.jsx(re,{to:"/settings/general/style",pro:!0,badge:!0,style:{color:"inherit"},children:s("Style")})}],J=()=>{const c=A||C||"";return c==="logo"?s("Logo"):c==="file"?s("File"):c==="status"?s("Status"):c==="style"?s("Style"):s("Main")},H=E.lg||E.xl||E.xxl?{tabList:G,activeTabKey:A,defaultActiveKey:C,tabProps:{size:"middle"}}:{title:J()};return e.jsx(se,{justify:"space-around",children:e.jsxs(l,{span:24,style:{maxWidth:"960px"},children:[e.jsxs(se,{gutter:16,justify:"space-between",align:"middle",style:{paddingBottom:"8px",marginBottom:"8px"},children:[e.jsx(l,{style:{paddingBottom:"8px"},children:e.jsx(At,{level:5,style:{fontSize:"18px",margin:0},children:s("General")})}),e.jsx(l,{style:{paddingBottom:"8px"},children:e.jsxs(u,{children:[e.jsx(be,{title:e.jsxs(u,{align:"center",children:[e.jsx(we,{}),e.jsx("span",{children:s("Learn more")})]}),children:e.jsx(Y,{icon:e.jsx(we,{}),href:"https://supportgenix.com",target:"_blank"})}),e.jsx(be,{title:e.jsxs(u,{align:"center",children:[e.jsx(Ne,{}),e.jsx("span",{children:s("Documentation")})]}),children:e.jsx(Y,{icon:e.jsx(Ne,{}),href:"https://supportgenix.com/docs/",target:"_blank"})})]})})]}),e.jsx(se,{children:e.jsx(l,{span:24,children:e.jsx(pt,{size:"small",...H,styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:"20px 24px 24px 24px"}},children:e.jsx(_t,{spinning:N,style:{maxHeight:"unset"},children:T()})})})})]})})}export{Qt as default};
