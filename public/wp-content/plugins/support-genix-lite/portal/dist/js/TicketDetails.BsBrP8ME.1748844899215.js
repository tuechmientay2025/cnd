import{_ as u,j as e,t as o,b as Re,c as ke,s as we,d as Ce,e as rn,h as nr,f as rr,u as tr,i as Ss,k as or,l as lr,m as ir,n as cr,E as dr}from"../main.DB7J0o3m.1748844899215.js";import{_ as ar,B as L,$ as ur,a0 as pr,d as Ge,c as Z,s as B,R as de,C as P,e as Ae,j as xr,k as hr,h as Fe,m as w,T as xe,i as Ps,o as fr,n as tn,f as oe,Q as R,F as le,w as X,a1 as on,a2 as ln,l as cn,P as dn,u as Ke,U as Qe,I as an,A as me,a3 as jr,a4 as yr,a5 as gr,a6 as _r,a7 as mr,E as _e,a8 as br,a9 as vr,G as Ls,aa as Ms,p as wr,r as Cr,v as Tr,ab as As,L as un,ac as Ir,D as $s,ad as Ns,O as Fr,ae as Er,af as kr,ag as Rr,ah as Or,W as zr}from"./antd.tbETyFFE.1748844899215.js";import{r as j,g as Sr,i as Pr,j as Lr,L as Ws}from"./vendor.B47oQPyY.1748844899215.js";import{U as V,t as pn,a as xn,u as Ve,S as Ee,A as ve}from"./Actionconfirm.xdoecHyJ.1748844899215.js";import{t as fe,i as De,w as hn,R as fn,T as jn,a as yn,g as Mr,c as Hs,b as Ys,d as Ar}from"./withQuillEditorConfig.VGjlY2Aq.1748844899215.js";import"./toast.C9WEee-3.1748844899215.js";var $e={};function Je(s){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(s)}Object.defineProperty($e,"__esModule",{value:!0});$e.CopyToClipboard=void 0;var Le=gn(j),$r=gn(ar),Nr=["text","onCopy","options","children"];function gn(s){return s&&s.__esModule?s:{default:s}}function Bs(s,t){var d=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);t&&(c=c.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),d.push.apply(d,c)}return d}function Us(s){for(var t=1;t<arguments.length;t++){var d=arguments[t]!=null?arguments[t]:{};t%2?Bs(Object(d),!0).forEach(function(c){es(s,c,d[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):Bs(Object(d)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(d,c))})}return s}function Wr(s,t){if(s==null)return{};var d=Hr(s,t),c,a;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);for(a=0;a<f.length;a++)c=f[a],!(t.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(s,c)&&(d[c]=s[c])}return d}function Hr(s,t){if(s==null)return{};var d={},c=Object.keys(s),a,f;for(f=0;f<c.length;f++)a=c[f],!(t.indexOf(a)>=0)&&(d[a]=s[a]);return d}function Yr(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(s,t){for(var d=0;d<t.length;d++){var c=t[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}function Ur(s,t,d){return t&&Br(s.prototype,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function qr(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&Xe(s,t)}function Xe(s,t){return Xe=Object.setPrototypeOf||function(c,a){return c.__proto__=a,c},Xe(s,t)}function Gr(s){var t=Qr();return function(){var c=Me(s),a;if(t){var f=Me(this).constructor;a=Reflect.construct(c,arguments,f)}else a=c.apply(this,arguments);return Kr(this,a)}}function Kr(s,t){if(t&&(Je(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _n(s)}function _n(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Qr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Me(s){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},Me(s)}function es(s,t,d){return t in s?Object.defineProperty(s,t,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[t]=d,s}var mn=function(s){qr(d,s);var t=Gr(d);function d(){var c;Yr(this,d);for(var a=arguments.length,f=new Array(a),m=0;m<a;m++)f[m]=arguments[m];return c=t.call.apply(t,[this].concat(f)),es(_n(c),"onClick",function(y){var g=c.props,I=g.text,F=g.onCopy,N=g.children,M=g.options,A=Le.default.Children.only(N),H=(0,$r.default)(I,M);F&&F(I,H),A&&A.props&&typeof A.props.onClick=="function"&&A.props.onClick(y)}),c}return Ur(d,[{key:"render",value:function(){var a=this.props;a.text,a.onCopy,a.options;var f=a.children,m=Wr(a,Nr),y=Le.default.Children.only(f);return Le.default.cloneElement(y,Us(Us({},m),{},{onClick:this.onClick}))}}]),d}(Le.default.PureComponent);$e.CopyToClipboard=mn;es(mn,"defaultProps",{onCopy:void 0,options:void 0});var Jr=$e,Ze=Jr.CopyToClipboard;Ze.CopyToClipboard=Ze;var Xr=Ze;const Zr=Sr(Xr);function Vr({text:s,size:t,type:d,icon:c,style:a,withText:f}){const m=j.useRef(null),[y,g]=j.useState(!1),I=()=>{g(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{g(!1),m.current=null},1e3)},F={size:"small",type:"primary",ghost:!0,icon:y?e.jsx(ur,{style:{color:"#52c41a"}}):c||e.jsx(pr,{})};return t&&(F.size=t),d&&(d==="default"?(u.unset(F,"type"),u.unset(F,"ghost")):F.type=d),a&&(F.style=a),e.jsx(Zr,{text:s,onCopy:I,children:f?e.jsx(L,{...F,children:y?o("Copied"):o("Copy")}):e.jsx(L,{...F})})}const{Text:Dr}=xe,qs="YYYY-MM-DD";function et({ticketId:s,fields:t,onCloseModal:d}){const c=u.cloneDeep(t),a={};for(const l of c){const i=(l==null?void 0:l.field_type)||"",r=(l==null?void 0:l.input_name)||"",x=(l==null?void 0:l.field_value)||"";if(i==="E")continue;let _=x;i==="N"?_=x?u.toNumber(x):"":i==="D"?_=x?Ge(x):"":i==="S"?_=x?!!x:!1:_=u.trim(x),a[r]=_}const f=[],m=[],y=a||{},g=Re(),[I]=Z.useForm(),[F,N]=j.useState(!0),[M,A]=j.useState(""),[H,K]=ke(),D=(l,i)=>{i=u.mapValues(i,function(x){return u.isString(x)?u.trim(x):x});for(const x of f){const _=l==null?void 0:l[x];_&&u.includes(_,"*")&&(i[x]=y[x])}for(const x of m)(l==null?void 0:l[x])&&(i[x]=fe((l==null?void 0:l[x])||""));const r=u.pick(y,u.keys(i));u.isEqual(r,i)?N(!0):N(!1)},ee=l=>{const i={};for(const r in l){const x=c.find(_=>(_==null?void 0:_.input_name)===r);if(x&&((x==null?void 0:x.is_editable)||!1)){const z=(x==null?void 0:x.field_type)||"";z==="N"?i[r]=u.toString(l[r]):z==="D"?i[r]=Ge(l[r]).format(qs):z==="S"?i[r]=l[r]?1:0:i[r]=u.trim(l[r])}}H({params:{action:"ticket_field_edit",id:s||0},data:{...i}})};return j.useEffect(()=>{var _,z,$,Q;const{data:l,isLoading:i,isError:r,error:x}=K;g(i?we():Ce()),!i&&r&&((z=(_=x==null?void 0:x.data)==null?void 0:_.errors)!=null&&z.message)&&B.error((Q=($=x==null?void 0:x.data)==null?void 0:$.errors)==null?void 0:Q.message),!i&&!r&&l&&(l!=null&&l.msg&&(l!=null&&l.status?(A(""),B.success(l==null?void 0:l.msg)):(A(l==null?void 0:l.msg),rn())),l!=null&&l.status&&d())},[K,d,g]),e.jsx(Z,{form:I,name:"ticketDataEdit",layout:"vertical",onFinish:ee,onValuesChange:D,initialValues:y,autoComplete:"off",children:e.jsxs(de,{gutter:16,children:[M?e.jsx(P,{span:24,children:e.jsx(Ae,{message:M,type:"error",showIcon:!0,closable:!0,afterClose:()=>A(""),style:{marginBottom:"24px"}})}):null,c==null?void 0:c.map(l=>{const i=(l==null?void 0:l.field_type)||"",r=(l==null?void 0:l.input_name)||"",x=(l==null?void 0:l.field_label)||"",_=(l==null?void 0:l.field_value)||"",z=(l==null?void 0:l.fld_option)||"",$=(l==null?void 0:l.help_text)||"",Q=(l==null?void 0:l.is_required)==="Y",G=(l==null?void 0:l.is_half_field)==="Y",se=(l==null?void 0:l.is_editable)||!1;let ne=[];r==="wc_store_id"?ne=z==null?void 0:z.map(E=>({value:u.toString(E==null?void 0:E.id),label:E==null?void 0:E.title})):ne=z?z.split(",").map(E=>({value:E,label:E})):[],i==="W"&&!ne.find(E=>(E==null?void 0:E.value)===_)&&(ne=[{value:"",label:`-- ${o("Select")} ---`},...ne]);let ce=null;i==="T"?ce=e.jsx(Ps,{placeholder:$,disabled:!se}):i==="N"?ce=e.jsx(fr,{placeholder:$,disabled:!se,style:{width:"100%"}}):i==="D"?ce=e.jsx(xr,{placeholder:$||o("Select date"),format:qs,disabled:!se,style:{width:"100%"}}):i==="S"?ce=e.jsx(tn,{disabled:!se}):i==="R"?ce=e.jsx(hr.Group,{options:ne,disabled:!se}):i==="W"?ce=e.jsx(Fe,{placeholder:$||o("Select option"),options:ne,disabled:!se,style:{width:"100%"}}):i==="U"&&(ce=e.jsx(Ps,{disabled:!se}));const b={};return i==="R"&&(b.htmlFor=null),e.jsx(P,{span:G?12:24,children:i==="E"?e.jsx(Dr,{style:{display:"block",marginBottom:"24px"},children:z}):e.jsx(Z.Item,{label:x,name:r,rules:[{required:!!(se&&Q),message:o("This field is required.")}],...b,children:ce})},r)}),e.jsx(P,{span:24,children:e.jsxs(w,{children:[e.jsx(L,{type:"primary",htmlType:"submit",loading:!1,disabled:F,children:o("Save Changes")}),e.jsx(L,{htmlType:"button",onClick:d,children:o("Cancel")})]})})]})})}const{Text:ue}=xe;function st({data:s}){const{count:t,items:d}=s;return e.jsx(oe,{size:"small",title:o("EDD Orders (%d)",t||0),styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0,maxHeight:"200px",overflowY:"auto"}},style:{marginTop:"24px"},children:e.jsx(w,{direction:"vertical",size:24,style:{padding:"8px 12px",width:"100%"},children:d==null?void 0:d.map((c,a)=>{const f=(c==null?void 0:c.downloads)||[],m=(c==null?void 0:c.totals)||[],y=(c==null?void 0:c.others)||[],g=(c==null?void 0:c.more_url)||"";return e.jsx(oe,{size:"small",children:e.jsxs(w,{direction:"vertical",size:16,style:{width:"100%"},children:[f!=null&&f.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(ue,{style:{fontWeight:500},children:o("Products")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:f==null?void 0:f.map((I,F)=>F?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(ue,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:I}},F)})]}):e.jsx(ue,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:I}},F)}))})]}):null,m!=null&&m.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(ue,{style:{fontWeight:500},children:o("Totals")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:m==null?void 0:m.map((I,F)=>F?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(ue,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:I}},F)})]}):e.jsx(ue,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:I}},F)}))})]}):null,y!=null&&y.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(ue,{style:{fontWeight:500},children:o("Others")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:y==null?void 0:y.map((I,F)=>F?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(ue,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:I}},F)})]}):e.jsx(ue,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:I}},F)}))})]}):null,g?e.jsx(L,{size:"small",type:"primary",target:"_blank",href:g,ghost:!0,children:o("View Details")}):null]})},a)})})})}const{Text:pe}=xe;function nt({data:s}){return e.jsx(oe,{size:"small",title:o("Envato Items (%d)",(s==null?void 0:s.length)||0),styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0,maxHeight:"200px",overflowY:"auto"}},style:{marginTop:"24px"},children:s==null?void 0:s.map((t,d)=>e.jsxs(e.Fragment,{children:[d?e.jsx(R,{style:{margin:0}}):null,e.jsxs(w,{size:0,direction:"vertical",style:{padding:"8px 12px",width:"100%"},children:[e.jsx(pe,{children:e.jsx("a",{target:"_blank",href:(t==null?void 0:t.url)||"#",rel:"noopener",children:(t==null?void 0:t.name)||""})}),e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsxs(le,{wrap:!0,children:[e.jsx(pe,{style:{marginRight:"8px"},children:o("License:")}),e.jsx(pe,{children:(t==null?void 0:t.license)||""})]}),e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsxs(le,{wrap:!0,children:[e.jsx(pe,{style:{marginRight:"8px"},children:o("Purchase:")}),e.jsx(pe,{children:(t==null?void 0:t.sold_at)||""})]}),e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsxs(le,{wrap:!0,children:[e.jsx(pe,{style:{marginRight:"8px"},children:o("Support:")}),e.jsx(pe,{children:(t==null?void 0:t.supported_until)||""})]}),e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsxs(le,{wrap:!0,children:[e.jsx(pe,{style:{marginRight:"8px"},children:o("Code:")}),e.jsx(pe,{copyable:!0,children:(t==null?void 0:t.code)||""})]})]},d)]}))})}const rt=De();function tt({data:s,onCloseModal:t,agentUserSelectList:d,categorySelectList:c,tagSelectList:a,statusSelectList:f}){const m=[],y=[],g=s?{assigned_on:u.toInteger(s==null?void 0:s.assigned_on)?s.assigned_on:"",cat_id:u.toInteger(s==null?void 0:s.cat_id)?s.cat_id:"",tag_ids:u.isArray(s==null?void 0:s.tag_ids)?s.tag_ids:[],status:(s==null?void 0:s.status)||""}:{assigned_on:"",cat_id:"",tag_ids:[],status:""},I=Re(),[F]=Z.useForm(),[N,M]=j.useState(!0),[A,H]=j.useState(""),[K,D]=ke(),ee=(i,r)=>{r=u.mapValues(r,function(_){return u.isString(_)?u.trim(_):_});for(const _ of m){const z=i==null?void 0:i[_];z&&u.includes(z,"*")&&(r[_]=g[_])}for(const _ of y)(i==null?void 0:i[_])&&(r[_]=fe((i==null?void 0:i[_])||""));const x=u.pick(g,u.keys(r));u.isEqual(x,r)?M(!0):M(!1)},l=i=>{var $,Q,G,se;const r=(($=i==null?void 0:i.assigned_on)==null?void 0:$.trim())||"",x=((Q=i==null?void 0:i.cat_id)==null?void 0:Q.trim())||"",_=((G=i==null?void 0:i.tag_ids)==null?void 0:G.map(ne=>ne==null?void 0:ne.trim()))||[],z=((se=i==null?void 0:i.status)==null?void 0:se.trim())||"";if(!r&&!x&&!_&&!z){H(o("Invalid data."));return}K({params:{action:"ticket_edit",id:(s==null?void 0:s.id)||0},data:{assigned_on:r,cat_id:x,tag_ids:_,status:z}})};return j.useEffect(()=>{var z,$,Q,G;const{data:i,isLoading:r,isError:x,error:_}=D;I(r?we():Ce()),!r&&x&&(($=(z=_==null?void 0:_.data)==null?void 0:z.errors)!=null&&$.message)&&B.error((G=(Q=_==null?void 0:_.data)==null?void 0:Q.errors)==null?void 0:G.message),!r&&!x&&i&&(i!=null&&i.msg&&(i!=null&&i.status?(H(""),B.success(i==null?void 0:i.msg)):(H(i==null?void 0:i.msg),rn())),i!=null&&i.status&&t())},[D,t,I]),e.jsx(Z,{form:F,name:"ticketQuickEdit",layout:"vertical",onFinish:l,onValuesChange:ee,initialValues:g,autoComplete:"off",children:e.jsxs(de,{gutter:16,children:[A?e.jsx(P,{span:24,children:e.jsx(Ae,{message:A,type:"error",showIcon:!0,closable:!0,afterClose:()=>H(""),style:{marginBottom:"24px"}})}):null,e.jsx(V,{permissions:["edit-assigned"],children:e.jsx(P,{span:24,children:e.jsx(Z.Item,{label:o("Agent"),name:"assigned_on",children:e.jsx(Fe,{options:d==null?void 0:d.filter(i=>{if(!u.toInteger(s==null?void 0:s.assigned_on)||(i==null?void 0:i.value)!=="")return!0})})})})}),e.jsx(V,{permissions:["edit-category"],children:e.jsx(P,{span:24,children:e.jsx(Z.Item,{label:o("Category"),name:"cat_id",children:e.jsx(Fe,{options:c==null?void 0:c.filter(i=>{if(!u.toInteger(s==null?void 0:s.cat_id)||(i==null?void 0:i.value)!=="")return!0})})})})}),rt?null:e.jsx(V,{permissions:["edit-category"],children:e.jsx(P,{span:24,children:e.jsx(Z.Item,{label:o("Tag"),name:"tag_ids",children:e.jsx(Fe,{allowClear:!0,mode:"multiple",showSearch:!1,defaultValue:[],options:a==null?void 0:a.filter(i=>{if((i==null?void 0:i.value)!=="")return!0}),placeholder:`-- ${o("Select Tag")} --`,className:"sg-multiple-select"})})})}),e.jsx(V,{permissions:["edit-status"],children:e.jsx(P,{span:24,children:e.jsx(Z.Item,{label:o("Status"),name:"status",children:e.jsx(Fe,{options:f})})})}),e.jsx(P,{span:24,children:e.jsxs(w,{children:[e.jsx(L,{type:"primary",htmlType:"submit",loading:!1,disabled:N,children:o("Save Changes")}),e.jsx(L,{htmlType:"button",onClick:t,children:o("Cancel")})]})})]})})}const{Text:Ue}=xe;function ot({data:s}){return e.jsx(oe,{size:"small",title:o("Tutor LMS Courses (%d)",(s==null?void 0:s.length)||0),styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0,maxHeight:"200px",overflowY:"auto"}},style:{marginTop:"24px"},children:s==null?void 0:s.map((t,d)=>e.jsxs(e.Fragment,{children:[d?e.jsx(R,{style:{margin:0}}):null,e.jsxs(w,{size:0,direction:"vertical",style:{padding:"8px 12px",width:"100%"},children:[e.jsx(Ue,{children:e.jsx("a",{target:"_blank",href:(t==null?void 0:t.url)||"#",rel:"noopener",children:(t==null?void 0:t.name)||""})}),e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsxs(le,{wrap:!0,children:[e.jsx(Ue,{style:{marginRight:"8px"},children:o("Status:")}),e.jsx(Ue,{children:o("Enrolled")})]})]},d)]}))})}const{Text:Gs}=xe;function lt({data:s}){return e.jsx(oe,{size:"small",title:o("Ticket Logs (%d)",(s==null?void 0:s.length)||0),styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0,maxHeight:"200px",overflowY:"auto"}},style:{marginTop:"24px"},children:s==null?void 0:s.map((t,d)=>{var c;return e.jsxs(e.Fragment,{children:[d?e.jsx(R,{style:{margin:0}}):null,e.jsxs(w,{size:0,direction:"vertical",style:{padding:"8px 12px",width:"100%"},children:[e.jsxs(Gs,{children:[(t==null?void 0:t.log_msg)||""," - ",((c=t==null?void 0:t.log_by_obj)==null?void 0:c.display_name)||""]}),e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(le,{children:e.jsx(X,{title:pn(t==null?void 0:t.entry_time),children:e.jsx(Gs,{style:{color:"rgba(0, 0, 0, 0.45)"},children:e.jsxs(le,{align:"center",gap:4,wrap:!0,children:[e.jsx(on,{}),xn(t==null?void 0:t.entry_time)]})})})})]},d)]})})})}const it=hn(fn,!0,[]),ct=s=>e.jsx(it,{...s}),dt=yn(),at=De();function ut({ticketId:s,setNoteOpen:t}){const d=[],c=["note_text"],a={note_text:""},f={note_text:""},m=Ve(),y=Re(),[g]=Z.useForm(),[I,F]=j.useState(!0),[N,M]=j.useState(""),[A,H]=ke(),K=(l,i)=>{i=u.mapValues(i,function(x){return u.isString(x)?u.trim(x):x});for(const x of d){const _=l==null?void 0:l[x];_&&u.includes(_,"*")&&(i[x]=f[x])}for(const x of c)(l==null?void 0:l[x])&&(i[x]=fe((l==null?void 0:l[x])||""));const r=u.pick(f,u.keys(i));u.isEqual(r,i)?F(!0):F(!1)},D=l=>{var r;const i=fe(((r=l==null?void 0:l.note_text)==null?void 0:r.trim())||"");if(!i){g.setFieldValue("note_text",""),M(o("%s is not valid.",o("Content")));return}A({params:{action:"ticket_note_add",id:s||0},data:{note_text:i}})},ee=j.useCallback(()=>{t(!1)},[t]);return j.useEffect(()=>{var _,z,$,Q;const{data:l,isLoading:i,isError:r,error:x}=H;y(i?we():Ce()),!i&&r&&((z=(_=x==null?void 0:x.data)==null?void 0:_.errors)!=null&&z.message)&&B.error((Q=($=x==null?void 0:x.data)==null?void 0:$.errors)==null?void 0:Q.message),!i&&!r&&l&&(l!=null&&l.msg&&(l!=null&&l.status?(M(""),B.success(l==null?void 0:l.msg)):M(l==null?void 0:l.msg)),l!=null&&l.status&&ee())},[H,ee,y]),e.jsx(de,{children:e.jsx(P,{span:24,children:e.jsx(oe,{size:"small",styles:{body:{background:"#fffbe6"}},style:{margin:"0 0 32px 0"},children:e.jsx(Z,{form:g,name:"replyForm",layout:"vertical",autoComplete:"off",onFinish:D,onValuesChange:K,initialValues:a,children:e.jsxs(de,{children:[N?e.jsx(P,{span:24,children:e.jsx(Ae,{message:N,type:"error",showIcon:!0,closable:!0,afterClose:()=>M(""),style:{marginBottom:"24px"}})}):null,e.jsx(P,{span:24,children:e.jsx(Z.Item,{name:"note_text",rules:[{required:!0,message:o("%s is required.",o("Content")),whitespace:!0},{validator:(l,i)=>{const r=fe(i||"");return!i||r?Promise.resolve():Promise.reject(new Error(o("%s is not valid.",o("Content"))))}}],htmlFor:null,children:!at&&dt==="quill"?e.jsx(ct,{focus:!0,style:{background:"#ffffff"}}):e.jsx(jn,{id:"note",focus:!0})})}),e.jsx(P,{span:24,children:e.jsxs(w,{children:[e.jsx(L,{type:"primary",htmlType:"submit",loading:!1,disabled:I,children:m.xs?o("Add Note"):o("Add Internal Note")}),m.xs||m.lg?e.jsx(L,{color:"danger",variant:"text",icon:e.jsx(ln,{}),onClick:ee}):e.jsx(L,{color:"danger",variant:"text",onClick:ee,children:o("Cancel")})]})})]})})})})})}var Vs;const pt=((Vs=window==null?void 0:window.support_genix_config)==null?void 0:Vs.is_master)||!1,xt=hn(fn,!0,[],pt),ht=s=>e.jsx(xt,{...s}),{Dragger:ft}=Qe,jt=yn(),yt=De();var Ds;const Ks=u.toInteger(((Ds=window==null?void 0:window.support_genix_config)==null?void 0:Ds.logged_id)||0);function gt({ticketId:s,ticketData:t,setReplyOpen:d,savedRepliesData:c,fileSettingsData:a,basicSettings:f}){const m=[],y=["reply_text"],g={reply_text:"",close:!1},I={reply_text:"",close:!1},F=Ve(),N=Re(),[M]=Z.useForm(),[A,H]=j.useState([]),[K,D]=j.useState(!0),[ee,l]=j.useState(""),[i,r]=nr(),x=u.toInteger((t==null?void 0:t.ticket_user)||0),_=!!(Ks&&Ks===x),z=(f==null?void 0:f.is_master)||!1,$=(b,E)=>{u.unset(E,"attached"),E=u.mapValues(E,function(S){return u.isString(S)?u.trim(S):S});for(const S of m){const re=b==null?void 0:b[S];re&&u.includes(re,"*")&&(E[S]=I[S])}for(const S of y)(b==null?void 0:b[S])&&(E[S]=fe((b==null?void 0:b[S])||""));const U=u.pick(I,u.keys(E));u.isEqual(U,E)?D(!0):D(!1)},Q=b=>{var re;const E=fe(((re=b==null?void 0:b.reply_text)==null?void 0:re.trim())||""),U=(z||_)&&(b!=null&&b.close)?"Y":"N";if(!E){M.setFieldValue("reply_text",""),l(o("%s is not valid.",o("Content")));return}const S=new FormData;S.append("ticket_id",s||0),S.append("is_private","N"),S.append("reply_text",E),S.append("close",U),A.forEach(je=>{S.append("attached[]",je.originFileObj)}),i({params:{action:"ticket_reply_add"},data:S,headers:{"Content-Type":"multipart/form-data"}})},G=j.useCallback(()=>{d(!1)},[d]),se=b=>{const E=b.size,U=b.type,S=Hs(a==null?void 0:a.file_upload_size);return Ys(a==null?void 0:a.allowed_type).includes(U)?E>S?(B.error(o("File size must be smaller than %s.",((a==null?void 0:a.file_upload_size)||2)+" MB")),Qe.LIST_IGNORE):!0:(B.error(o("Invalid file type.")),Qe.LIST_IGNORE)},ne=({fileList:b,file:E})=>{const U=E.size,S=E.type,re=Hs(a==null?void 0:a.file_upload_size);if(!Ys(a==null?void 0:a.allowed_type).includes(S)){B.error(o("Invalid file type."));return}if(U>re){B.error(o("File size must be smaller than %s.",((a==null?void 0:a.file_upload_size)||2)+" MB"));return}H(b)},ce=b=>{const E=A.indexOf(b),U=A.slice().splice(E,1);H(U)};return j.useEffect(()=>{var re,je,Te,Oe;const{data:b,isLoading:E,isError:U,error:S}=r;N(E?we():Ce()),!E&&U&&((je=(re=S==null?void 0:S.data)==null?void 0:re.errors)!=null&&je.message)&&B.error((Oe=(Te=S==null?void 0:S.data)==null?void 0:Te.errors)==null?void 0:Oe.message),!E&&!U&&b&&(b!=null&&b.msg&&(b!=null&&b.status?(l(""),B.success(b==null?void 0:b.msg),H([])):l(b==null?void 0:b.msg)),b!=null&&b.status&&G())},[r,G,N]),e.jsx(de,{children:e.jsx(P,{span:24,children:e.jsx(oe,{size:"small",style:{margin:"0 0 32px 0"},children:e.jsx(Z,{form:M,name:"replyForm",layout:"vertical",autoComplete:"off",onFinish:Q,onValuesChange:$,initialValues:g,children:e.jsxs(de,{children:[ee?e.jsx(P,{span:24,children:e.jsx(Ae,{message:ee,type:"error",showIcon:!0,closable:!0,afterClose:()=>l(""),style:{marginBottom:"24px"}})}):null,e.jsx(P,{span:24,children:e.jsx(Z.Item,{name:"reply_text",rules:[{required:!0,message:o("%s is required.",o("Content")),whitespace:!0},{validator:(b,E)=>{const U=fe(E||"");return!E||U?Promise.resolve():Promise.reject(new Error(o("%s is not valid.",o("Content"))))}}],htmlFor:null,children:!yt&&jt==="quill"?e.jsx(ht,{focus:!0,savedReplies:c,style:{background:"#ffffff"}}):e.jsx(jn,{id:"reply",focus:!0,savedReplies:c})})}),a!=null&&a.ticket_file_upload?e.jsx(P,{span:24,children:e.jsx(Z.Item,{name:"attached",children:e.jsx(ft,{multiple:!0,name:"attached",fileList:A,onChange:ne,onRemove:ce,beforeUpload:se,accept:Mr((a==null?void 0:a.allowed_type)||[],!0,!0),children:e.jsxs(le,{align:"center",justify:"center",gap:4,wrap:!0,children:[e.jsx(cn,{}),o("Click or drag file to upload")]})})})}):null,e.jsx(P,{span:24,hidden:!0,children:e.jsx(Z.Item,{name:"close",valuePropName:"checked",hidden:!0,children:e.jsx(tn,{})})}),e.jsx(P,{span:24,children:e.jsxs(w,{children:[e.jsx(L,{color:"primary",variant:"solid",disabled:K,onClick:()=>{M.setFieldValue("close",!1),M.submit()},children:o("Submit Reply")}),(z||_)&&!u.includes(["C","D"],t==null?void 0:t.status)?e.jsx(Ee,{hideOn:["xs"],children:e.jsx(dn,{title:o("Reply and close ticket"),description:o("Are you sure want to submit reply and close ticket?"),onConfirm:()=>{M.setFieldValue("close",!0),M.submit()},okText:o("Yes"),cancelText:o("No"),icon:e.jsx(Ke,{style:{color:"#faad14"}}),overlayStyle:{maxWidth:"300px"},children:e.jsx(L,{color:"danger",variant:"solid",disabled:K,children:o("Submit & Close Ticket")})})}):null,F.xs||F.lg?e.jsx(L,{color:"danger",variant:"text",icon:e.jsx(ln,{}),onClick:G}):e.jsx(L,{color:"danger",variant:"text",onClick:G,children:o("Cancel")})]})})]})})})})})}const{Text:_t}=xe;function mt({file:s,fileImagePopup:t,imageMimeTypes:d}){const c=(s==null?void 0:s.type)||"",a=(s==null?void 0:s.url)||"",f=u.last(a.split("/")),m=u.startsWith(c,"image/")||u.includes(d,c),[y,g]=j.useState(!1);return f?e.jsxs(e.Fragment,{children:[m&&t?e.jsx(an,{width:0,height:0,src:a,preview:{mask:null,visible:y,onVisibleChange:I=>{g(I)}},style:{display:"none",borderRadius:"6px",border:"1px solid #f9f0ff",cursor:"pointer",objectFit:"cover"}}):null,e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",onClick:I=>{m&&t&&(I.preventDefault(),g(!0))},style:{display:"inline-block",lineHeight:0},children:e.jsxs(w,{children:[e.jsx(cn,{style:{color:"#1677ff"}}),e.jsx(_t,{children:f})]})})]}):null}function bt({file:s,fileImagePopup:t,imageMimeTypes:d,videoMimeTypes:c,audioMimeTypes:a,pdfMimeTypes:f,zipMimeTypes:m}){const y=(s==null?void 0:s.type)||"",g=(s==null?void 0:s.url)||"";if(u.startsWith(y,"image/")||u.includes(d,y))return e.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",onClick:I=>{t&&I.preventDefault()},style:{display:"inline-block",lineHeight:0},children:e.jsx(an,{width:24,height:24,src:g,preview:{mask:null,visible:t?void 0:!1},style:{borderRadius:"6px",border:"1px solid #f9f0ff",cursor:"pointer",objectFit:"cover"}})});{let I=e.jsx(jr,{}),F="#e6f4ff",N="#1677ff";return u.startsWith(y,"video/")||u.includes(c,y)?(I=e.jsx(yr,{}),F="#d6e4ff",N="#1d39c4"):u.startsWith(y,"audio/")||u.includes(a,y)?(I=e.jsx(gr,{}),F="#f9f0ff",N="#531dab"):u.includes(m,y)?(I=e.jsx(_r,{}),F="#fff2e8",N="#d4380d"):u.includes(f,y)&&(I=e.jsx(mr,{}),F="#fde3cf",N="#f56a00"),e.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",lineHeight:0},children:e.jsx(me,{shape:"square",size:24,icon:I,onClick:()=>window==null?void 0:window.open(g,"_blank","noopener,noreferrer"),style:{backgroundColor:F,color:N,cursor:"pointer"}})})}}const{Text:qe}=xe,ie=Ar(),Qs=(ie==null?void 0:ie.image)||[],vt=(ie==null?void 0:ie.video)||[],wt=(ie==null?void 0:ie.audio)||[],Ct=(ie==null?void 0:ie.pdf)||[],Tt=(ie==null?void 0:ie.zip)||[];function Js({data:s,ticket:t,fileSettingsData:d}){const c=s==null?void 0:s.item_type,a=(s==null?void 0:s.replied_by_type)==="A",f=(s==null?void 0:s.reply_user)||null,m=(s==null?void 0:s.attached_files)||[],y=(d==null?void 0:d.file_image_popup)||!1,g=(d==null?void 0:d.file_preview_mode)||!1,I=u.toInteger((t==null?void 0:t.ticket_user)||0),N=u.toInteger((s==null?void 0:s.replied_by)||0)===I;let M="#84adff",A="geekblue",H=o("Agent");return a||(N?(M="#ffbd8b",A="volcano",H=o("Starter")):(M="#20d5f0",A="cyan",H=o("Participant"))),e.jsxs(de,{style:{background:u.includes(["note","notice"],c)?"#fffbe6":"transparent",borderLeft:c!=="notice"?`3px solid ${M}`:"3px solid transparent",padding:"24px 12px"},children:[c!=="notice"?e.jsxs(e.Fragment,{children:[e.jsx(P,{span:24,style:{marginBottom:"12px"},children:e.jsx(_e,{bordered:!1,color:A,children:c==="note"?o("Note by %s",H):H})}),e.jsx(P,{span:24,style:{marginBottom:"20px"},children:e.jsxs(w,{children:[e.jsx(me,{size:"large",src:f==null?void 0:f.img}),e.jsxs(w,{direction:"vertical",size:0,children:[e.jsx(qe,{style:{fontWeight:500},children:f==null?void 0:f.display_name}),e.jsx(X,{title:pn(s==null?void 0:s.reply_time),children:e.jsx(qe,{style:{color:"rgba(0, 0, 0, 0.45)"},children:e.jsxs(le,{align:"center",gap:4,children:[e.jsx(on,{}),xn(s==null?void 0:s.reply_time)]})})})]})]})})]}):null,e.jsx(P,{span:24,children:e.jsx("div",{className:"sg-reply-text",dangerouslySetInnerHTML:{__html:s==null?void 0:s.reply_text}})}),c!=="notice"&&d&&(m!=null&&m.length)?e.jsxs(P,{span:24,children:[e.jsx(R,{orientation:"left",variant:"dashed",orientationMargin:0,style:{margin:"24px 0"},plain:!0,children:e.jsx(qe,{children:o("Attachments (%d)",m==null?void 0:m.length)})}),g?e.jsx(w,{children:m==null?void 0:m.map((K,D)=>e.jsx(bt,{file:K,fileImagePopup:y,imageMimeTypes:Qs,videoMimeTypes:vt,audioMimeTypes:wt,pdfMimeTypes:Ct,zipMimeTypes:Tt},D))}):e.jsx(w,{direction:"vertical",style:{width:"100%"},children:m==null?void 0:m.map((K,D)=>e.jsx(mt,{file:K,fileImagePopup:y,imageMimeTypes:Qs},D))})]}):null]})}const{Text:te}=xe;function It({data:s}){const t=(s==null?void 0:s.products)||[],d=(s==null?void 0:s.shippings)||[],c=(s==null?void 0:s.totals)||[],a=(s==null?void 0:s.payments)||[],f=(s==null?void 0:s.others)||[],m=(s==null?void 0:s.more_link)||"";return e.jsx(oe,{size:"small",title:o("Order Details"),styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:"8px 12px",maxHeight:"200px",overflowY:"auto"}},style:{marginTop:"24px"},children:e.jsxs(w,{direction:"vertical",size:16,style:{width:"100%"},children:[t!=null&&t.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(te,{style:{fontWeight:500},children:o("Products")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:t==null?void 0:t.map((y,g)=>g?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)})]}):e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)}))})]}):null,d!=null&&d.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(te,{style:{fontWeight:500},children:o("Shipping")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:d==null?void 0:d.map((y,g)=>g?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)})]}):e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)}))})]}):null,c!=null&&c.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(te,{style:{fontWeight:500},children:o("Totals")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:c==null?void 0:c.map((y,g)=>g?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)})]}):e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)}))})]}):null,a!=null&&a.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(te,{style:{fontWeight:500},children:o("Payment")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:a==null?void 0:a.map((y,g)=>g?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)})]}):e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)}))})]}):null,f!=null&&f.length?e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(te,{style:{fontWeight:500},children:o("Others")}),e.jsx(R,{style:{margin:"4px 0"}}),e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:f==null?void 0:f.map((y,g)=>g?e.jsxs(e.Fragment,{children:[e.jsx(R,{variant:"dashed",style:{margin:"4px 0"}}),e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)})]}):e.jsx(te,{style:{color:"rgba(0, 0, 0, 0.75)"},children:e.jsx("span",{dangerouslySetInnerHTML:{__html:y}},g)}))})]}):null,m?e.jsx(L,{size:"small",type:"primary",target:"_blank",href:m,ghost:!0,children:o("View Details")}):null]})})}const{Content:Ft,Sider:Et}=un,{Text:ae,Title:kt,Paragraph:Ie}=xe;var en;const Xs=((en=window==null?void 0:window.support_genix_config)==null?void 0:en.lite)||!1;var sn;const Rt=((sn=window==null?void 0:window.support_genix_config)==null?void 0:sn.shortcode)||!1;var nn;const Zs=u.toInteger(((nn=window==null?void 0:window.support_genix_config)==null?void 0:nn.logged_id)||0),Ot=[{key:"trash",label:o("Move to Trash")},{key:"remove",label:o("Delete"),danger:!0}],zt=[{value:"0",label:o("All Agents")}],St=[{value:"0",label:o("All Categories")}],Pt=[{value:"0",label:o("All Tags")}];function Ht(){var bs,vs,ws,Cs,Ts,Is,Fs,Es,ks;const s=Ve(),t=Re(),d=Pr(),{hasAnyPermission:c}=rr(),{getBasicSettings:a}=tr(),{ticketId:f}=Lr(),[m,y]=j.useState(""),[g,I]=j.useState(!1),[F,N]=j.useState(!1),[M,A]=j.useState(!1),[H,K]=j.useState(!1),[D,ee]=j.useState(!1),[l,i]=j.useState(null),[r,x]=j.useState(null),[_,z]=j.useState([]),[$,Q]=j.useState([]),[G,se]=j.useState([]),[ne,ce]=j.useState([]),[b,E]=j.useState([]),[U,S]=j.useState([]),[re,je]=j.useState([]),[Te,Oe]=j.useState([]),[ss,bn]=j.useState([]),[ns,vn]=j.useState(""),[rs,wn]=j.useState(!1),[ye,Cn]=j.useState([]),[ze,Tn]=j.useState(zt),[In,Fn]=j.useState(St),[Se,En]=j.useState(Pt),[Ne,kn]=j.useState(null),[Rn,ts]=j.useState(!0),[os,On]=j.useState(!0),[ls,zn]=j.useState(!0),[is,Sn]=j.useState(!0),[cs,Pn]=j.useState(!0),[ds,Ln]=j.useState(!0),J=a(),q=(J==null?void 0:J.is_master)||!1,We=Ss({action:"ticket_data_single",id:f}),as=Ss({action:"ticket_status_for_select"}),us=or({action:"role_agent_for_select",select:!0}),ps=lr({action:"ticket_category_data_for_select",select:!0}),xs=ir({action:"ticket_tag_data_for_select",select:!0}),hs=cr({action:"settings_data_file"}),[He,fs]=ke(),[Mn,js]=ke(),Pe=j.useCallback(()=>{I(!1)},[]),An=j.useCallback(()=>{N(!1)},[]),$n=()=>{Mn({params:{action:"ticket_download",id:f||0}})},Nn=()=>{We.refetch()},ys=n=>{let h="";n==="trash"?h="ticket_trash_item":n==="restore"?h="ticket_restore_item":n==="remove"&&(h="ticket_delete_item"),h&&He({params:{action:h,id:f||0}})},be=(n,h)=>{He({params:{action:"ticket_edit",id:f||0},data:{[n]:h}})},gs=n=>{He({params:{action:"ticket_privacy_edit",id:f||0},data:{public:n}})},_s=()=>{let n=[];return(r==null?void 0:r.status)==="D"?(n=["trash"],c(["delete-ticket"])||n.push("remove")):(c(["move-to-trash"])||n.push("trash"),c(["delete-ticket"])||n.push("remove")),u.filter(u.map(Ot,function(T){return{...T,label:e.jsx(ve,{action:T.key,onConfirm:()=>{ys(T.key),ee(!1)},onCancel:()=>{ee(!1)},children:e.jsx("span",{children:T.label})})}}),function(T){return!u.includes(n,T.key||"")})},Wn=n=>{const{fileName:h,fileContent:T}=n;if(h&&T){const C=new Blob([T],{type:"application/pdf"}),k=document.createElement("a"),O=URL.createObjectURL(C);k.href=O,k.setAttribute("download",h),document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(O)}},Ye=(r==null?void 0:r.tag_ids)||[],ge=Ye==null?void 0:Ye.map(n=>Se==null?void 0:Se.find(({value:h})=>h===n));j.useEffect(()=>{!os&&!ls&&!is&&!cs&&!ds&&ts(!1)},[os,ls,is,cs,ds,ts]),j.useEffect(()=>{var k,O,W;const{data:n,isFetching:h,isError:T,error:C}=We;if(On(h),!h&&T&&B.error((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)==null?void 0:O.message),!h&&!T&&n)if(!(n!=null&&n.status))d("/",{replace:!0});else{const p=(n==null?void 0:n.data)||null;if(!p)return;const he=(p==null?void 0:p.user)||null,v=(p==null?void 0:p.ticket)||null,Be=u.clone(p==null?void 0:p.replies)||[],Hn=(p==null?void 0:p.attached_files)||[],Yn=(p==null?void 0:p.user_tickets)||[],Bn=((W=p==null?void 0:p.custom_fields)==null?void 0:W.filter(Y=>(Y==null?void 0:Y.input_name)&&(Y==null?void 0:Y.status)==="A"&&(Y==null?void 0:Y.where_to_create)==="T"))||[],Un=(p==null?void 0:p.cannedMsg)||[],qn=(p==null?void 0:p.order_details)||[],Gn=(p==null?void 0:p.edd_orders)||[],Kn=(p==null?void 0:p.envato_items)||[],Qn=(p==null?void 0:p.tutorlms_items)||[],Jn=(p==null?void 0:p.notes)||[],Xn=(p==null?void 0:p.logs)||[],Zn=(p==null?void 0:p.hotlink)||"",Vn=u.toInteger((v==null?void 0:v.ticket_user)||0),Dn=!!(Zs&&Zs===Vn);Be.unshift({asigned_by:(v==null?void 0:v.assigned_on)||"",attached_files:Hn,is_private:"N",is_user_seen:"N",replied_by:(v==null?void 0:v.ticket_user)||"",replied_by_type:(v==null?void 0:v.user_type)||"",reply_id:"0",reply_text:(v==null?void 0:v.ticket_body)||"",reply_time:(v==null?void 0:v.opened_time)||"",reply_user:he,seen_time:"0000-00-00 00:00:00",ticket_id:(v==null?void 0:v.id)||"",ticket_status:(v==null?void 0:v.status)||""});let Rs=1;for(const Y of Jn){const sr=1e3+Rs;Be.push({asigned_by:(v==null?void 0:v.assigned_on)||"",attached_files:[],is_private:"N",is_user_seen:"N",replied_by:(Y==null?void 0:Y.added_by)||"",replied_by_type:"A",reply_id:u.toString(sr),reply_text:(Y==null?void 0:Y.note_text)||"",reply_time:(Y==null?void 0:Y.entry_date)||"",reply_user:(Y==null?void 0:Y.added_by_obj)||null,seen_time:"0000-00-00 00:00:00",ticket_id:(v==null?void 0:v.id)||"",ticket_status:(v==null?void 0:v.status)||"",item_type:"note"}),Rs++}const Os=u.orderBy(Be,Y=>Ge(Y.reply_time),"desc"),zs=(J==null?void 0:J.disable_closed_ticket_reply_notice)||"",er=!q&&zs?[{asigned_by:(v==null?void 0:v.assigned_on)||"",attached_files:[],is_private:"N",is_user_seen:"N",replied_by:"",replied_by_type:"A",reply_id:10001,reply_text:zs||"",reply_time:"0000-00-00 00:00:00",reply_user:null,seen_time:"0000-00-00 00:00:00",ticket_id:(v==null?void 0:v.id)||"",ticket_status:(v==null?void 0:v.status)||"",item_type:"notice"},...Os]:Os;i(he),x(v),z(er),Q(Yn),se(Bn),ce(Un),E(qn),S(Gn),je(Kn),Oe(Qn),bn(Xn),vn(Zn),wn(Dn)}},[We,J,q,d]),j.useEffect(()=>{var k,O,W,p;const{data:n,isFetching:h,isError:T,error:C}=as;zn(h),!h&&T&&B.error((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)==null?void 0:O.message),!h&&!T&&n&&n!=null&&n.status&&(W=n==null?void 0:n.data)!=null&&W.result&&Cn((p=n==null?void 0:n.data)==null?void 0:p.result)},[as]),j.useEffect(()=>{var k,O,W,p;const{data:n,isFetching:h,isError:T,error:C}=us;Sn(h),!h&&T&&B.error((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)==null?void 0:O.message),!h&&!T&&n&&n!=null&&n.status&&(W=n==null?void 0:n.data)!=null&&W.result&&Tn((p=n==null?void 0:n.data)==null?void 0:p.result)},[us]),j.useEffect(()=>{var k,O,W,p;const{data:n,isFetching:h,isError:T,error:C}=ps;Pn(h),!h&&T&&B.error((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)==null?void 0:O.message),!h&&!T&&n&&n!=null&&n.status&&(W=n==null?void 0:n.data)!=null&&W.result&&Fn((p=n==null?void 0:n.data)==null?void 0:p.result)},[ps]),j.useEffect(()=>{var k,O,W,p;const{data:n,isFetching:h,isError:T,error:C}=xs;!h&&T&&B.error((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)==null?void 0:O.message),!h&&!T&&n&&n!=null&&n.status&&(W=n==null?void 0:n.data)!=null&&W.result&&En((p=n==null?void 0:n.data)==null?void 0:p.result)},[xs]),j.useEffect(()=>{var k,O;const{data:n,isFetching:h,isError:T,error:C}=hs;Ln(h),!h&&T&&B.error((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)==null?void 0:O.message),!h&&!T&&n&&kn((n==null?void 0:n.data)||{})},[hs]),j.useEffect(()=>{var O,W,p,he,v;const{originalArgs:n,data:h,isLoading:T,isError:C,error:k}=fs;t(T?we():Ce()),!T&&C&&((W=(O=k==null?void 0:k.data)==null?void 0:O.errors)!=null&&W.message)&&B.error((he=(p=k==null?void 0:k.data)==null?void 0:p.errors)==null?void 0:he.message),!T&&!C&&h&&(h!=null&&h.msg&&(h!=null&&h.status?B.success(h==null?void 0:h.msg):B.error(h==null?void 0:h.msg)),h!=null&&h.status&&((v=n==null?void 0:n.params)==null?void 0:v.action)==="ticket_delete_item"&&d("/",{replace:!0}))},[fs,d,t]),j.useEffect(()=>{var k,O,W,p;const{data:n,isLoading:h,isError:T,error:C}=js;t(h?we():Ce()),!h&&T&&((O=(k=C==null?void 0:C.data)==null?void 0:k.errors)!=null&&O.message)&&B.error((p=(W=C==null?void 0:C.data)==null?void 0:W.errors)==null?void 0:p.message),!h&&!T&&n&&(n!=null&&n.msg&&(n!=null&&n.status?B.success(n==null?void 0:n.msg):B.error(n==null?void 0:n.msg)),n!=null&&n.status&&Wn(n==null?void 0:n.data))},[js,t]);const ms=e.jsx(de,{children:e.jsxs(P,{span:24,children:[e.jsx(oe,{size:"small",styles:{body:{background:"#fafafa"}},children:e.jsxs(le,{align:"center",justify:"space-between",gap:8,wrap:!0,children:[e.jsx(X,{title:o("Ticket Track ID"),children:e.jsx(ae,{children:`#${r==null?void 0:r.ticket_track_id}`})}),e.jsxs(w,{children:[e.jsx(Ee,{hideOn:["xs","sm","md","lg","xl","xxl"],children:e.jsx(X,{title:o("Export Ticket"),children:e.jsx(L,{size:"small",icon:e.jsx(br,{}),onClick:$n})})}),q?e.jsx(V,{permissions:["show-ticket-hotlink"],children:ns?e.jsx(X,{title:o("Copy Hotlink"),children:e.jsx("span",{children:e.jsx(Vr,{size:"small",type:"default",icon:e.jsx(vr,{}),text:ns})})}):null}):null,(J==null?void 0:J.is_public_ticket_opt_on_details)==="Y"?e.jsx(V,{permissions:["change-privacy"],children:q||rs?e.jsx(e.Fragment,{children:(r==null?void 0:r.is_public)==="Y"?e.jsx(ve,{action:"private",onConfirm:()=>gs("N"),children:e.jsx(X,{title:e.jsxs(w,{direction:"vertical",align:"center",size:0,children:[e.jsx("span",{children:o("Public Ticket")}),e.jsx("span",{children:o("Click to make it private.")})]}),children:e.jsx(L,{size:"small",color:"cyan",variant:"solid",icon:e.jsx(Ls,{}),style:{color:"#389e0d",background:"#f6ffed",borderColor:"#b7eb8f"},children:o("Public")})})}):e.jsx(ve,{action:"public",onConfirm:()=>gs("Y"),children:e.jsx(X,{title:e.jsxs(w,{direction:"vertical",align:"center",size:0,children:[e.jsx("span",{children:o("Private Ticket")}),e.jsx("span",{children:o("Click to make it public.")})]}),children:e.jsx(L,{size:"small",icon:e.jsx(Ms,{}),style:{color:"#cf1322"}})})})}):e.jsx(e.Fragment,{children:(r==null?void 0:r.is_public)==="Y"?e.jsx(X,{title:o("Public Ticket"),children:e.jsx(_e,{icon:e.jsx(Ls,{}),style:{color:"#389e0d",background:"#f6ffed",borderColor:"#b7eb8f",fontSize:"14px",lineHeight:"22px",margin:0},children:o("Public")})}):e.jsx(X,{title:o("Private Ticket"),children:e.jsx(_e,{icon:e.jsx(Ms,{}),style:{color:"#cf1322",background:"#ffffff",borderColor:"#d9d9d9",fontSize:"14px",lineHeight:"22px",margin:0}})})})}):null]})]})}),q?e.jsxs(oe,{size:"small",style:{marginTop:"24px"},children:[e.jsxs(w,{direction:"vertical",style:{width:"100%"},children:[e.jsx(me,{size:50,src:l==null?void 0:l.img}),e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[e.jsx(ae,{style:{fontWeight:500},children:l==null?void 0:l.display_name}),l!=null&&l.email?e.jsx(V,{permissions:["show-ticket-email"],children:e.jsx(ae,{copyable:!!q,children:l==null?void 0:l.email})}):null]})]}),!Xs||(r==null?void 0:r.email_notification)!=="Y"?e.jsxs(e.Fragment,{children:[e.jsx(R,{style:{margin:"8px 0"}}),e.jsx(dn,{title:o("Email notification"),description:(r==null?void 0:r.email_notification)==="Y"?o("Are you sure want to disable email notification to customer for this ticket?"):o("Are you sure want to enable email notification to customer for this ticket?"),onConfirm:()=>{be("email_notification",(r==null?void 0:r.email_notification)!=="Y"?"Y":"N")},okText:o("Yes"),cancelText:o("No"),icon:e.jsx(Ke,{style:{color:"#faad14"}}),overlayStyle:{maxWidth:"300px"},children:e.jsx(X,{title:o("Email notification to customer for this ticket."),children:e.jsx(wr,{checked:(r==null?void 0:r.email_notification)==="Y",children:o("Email notification.")})})})]}):null]}):null,q&&!u.isEmpty($)?e.jsx(oe,{size:"small",title:o("Other Tickets (%d)",($==null?void 0:$.length)||0),styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0,maxHeight:"200px",overflowY:"auto"}},style:{marginTop:"24px"},children:$==null?void 0:$.map((n,h)=>{const T=(n==null?void 0:n.status)||"",C=T?ye==null?void 0:ye.find(({value:p})=>p===T):null,k=u.includes(["C","D"],T)?e.jsx(Cr,{}):T==="I"?e.jsx(Ke,{}):e.jsx(Tr,{}),O=u.includes(["C","D"],T)?"#cf1322":T==="I"?"#d46b08":"#1d39c4",W=!u.includes(["I","C","D"],n==null?void 0:n.status)&&(n==null?void 0:n.last_replied_by_type)!=="A";return h?e.jsxs(e.Fragment,{children:[e.jsx(R,{style:{margin:0}}),e.jsxs(w,{direction:"vertical",size:4,style:{padding:"8px 12px"},children:[e.jsx(Ws,{to:`/ticket/${n==null?void 0:n.id}`,children:e.jsx(ae,{children:n==null?void 0:n.title})}),e.jsxs(w,{size:4,children:[e.jsx(X,{title:o("Status"),children:e.jsx(_e,{icon:k,bordered:!1,style:{color:O,margin:0},children:C==null?void 0:C.label})}),W?e.jsx(_e,{color:"red",bordered:!1,style:{margin:0},children:o("Need Reply")}):null]})]},n==null?void 0:n.id)]}):e.jsxs(w,{direction:"vertical",size:4,style:{padding:"8px 12px"},children:[e.jsx(Ws,{to:`/ticket/${n==null?void 0:n.id}`,children:e.jsx(ae,{children:n==null?void 0:n.title})}),e.jsxs(w,{size:4,children:[e.jsx(X,{title:o("Status"),children:e.jsx(_e,{icon:k,bordered:!1,style:{color:O,margin:0},children:C==null?void 0:C.label})}),W?e.jsx(_e,{color:"red",bordered:!1,style:{margin:0},children:o("Need Reply")}):null]})]},n==null?void 0:n.id)})}):null,r?e.jsx(oe,{size:"small",title:o("Information"),extra:q?e.jsx(V,{permissions:["edit-assigned","edit-category","edit-status"],children:e.jsx(X,{title:o("Edit"),children:e.jsx(L,{type:"primary",icon:e.jsx(As,{}),size:"small",ghost:!0,onClick:()=>{y("info"),I(!0)}})})}):null,styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0}},style:{marginTop:"24px"},children:e.jsxs(w,{direction:"vertical",size:0,style:{width:"100%"},children:[q?e.jsxs(e.Fragment,{children:[e.jsxs(le,{wrap:!0,style:{padding:"8px 12px"},children:[e.jsx(ae,{style:{fontWeight:500,marginRight:"8px"},children:o("Agent:")}),e.jsx(Ie,{style:{margin:0},children:((bs=r==null?void 0:r.assigned_on_obj)==null?void 0:bs.display_name)||e.jsx("span",{style:{color:"rgba(0, 0, 0, 0.45)"},children:o("N/A")})})]}),e.jsx(R,{style:{margin:0}})]}):null,e.jsxs(le,{wrap:!0,style:{padding:"8px 12px"},children:[e.jsx(ae,{style:{fontWeight:500,marginRight:"8px"},children:o("Category:")}),e.jsx(Ie,{style:{margin:0},children:((vs=r==null?void 0:r.cat_obj)==null?void 0:vs.title)||e.jsx("span",{style:{color:"rgba(0, 0, 0, 0.45)"},children:o("N/A")})})]}),e.jsx(R,{style:{margin:0}}),!Xs&&q?e.jsxs(e.Fragment,{children:[e.jsxs(le,{wrap:!0,style:{padding:"8px 12px"},children:[e.jsx(ae,{style:{fontWeight:500,marginRight:"8px"},children:1<(ge==null?void 0:ge.length)?o("Tags:"):o("Tag:")}),e.jsx(Ie,{style:{margin:0},children:u.isEmpty(ge)?e.jsx("span",{style:{color:"rgba(0, 0, 0, 0.45)"},children:o("N/A")}):(ws=ge==null?void 0:ge.map(n=>n==null?void 0:n.label))==null?void 0:ws.join(", ")})]}),e.jsx(R,{style:{margin:0}})]}):null,e.jsxs(le,{wrap:!0,style:{padding:"8px 12px"},children:[e.jsx(ae,{style:{fontWeight:500,marginRight:"8px"},children:o("Status:")}),e.jsx(Ie,{style:{margin:0},children:((Cs=ye==null?void 0:ye.find(n=>(n==null?void 0:n.value)===(r==null?void 0:r.status)))==null?void 0:Cs.label)||e.jsx("span",{style:{color:"rgba(0, 0, 0, 0.45)"},children:o("N/A")})})]})]})}):null,u.isEmpty(G)?null:e.jsx(oe,{size:"small",title:o("Additional Data"),extra:q||rs?e.jsx(V,{permissions:["edit-custom-field","edit-wc-order-source","edit-envato-purchase-code","edit-elite-purchase-code"],children:e.jsx(X,{title:o("Edit"),children:e.jsx(L,{type:"primary",icon:e.jsx(As,{}),size:"small",ghost:!0,onClick:()=>{y("data"),I(!0)}})})}):null,styles:{header:{background:"#fafafa",fontWeight:500},body:{padding:0}},style:{marginTop:"24px"},children:e.jsx(w,{direction:"vertical",size:0,style:{width:"100%"},children:G==null?void 0:G.map((n,h)=>{var he;const T=(n==null?void 0:n.field_type)||"",C=(n==null?void 0:n.input_name)||"",k=(n==null?void 0:n.field_label)||"",O=(n==null?void 0:n.field_value)||"",W=(n==null?void 0:n.fld_option)||"";let p=O;return T==="S"?p=O?o("Yes"):o("No"):(p=u.trim(O),C==="wc_store_id"&&(p=((he=u.find(W,{id:u.toInteger(O)}))==null?void 0:he.title)||""),p||(p=e.jsx("span",{style:{color:"rgba(0, 0, 0, 0.45)"},children:o("N/A")}))),e.jsxs(e.Fragment,{children:[h?e.jsx(R,{style:{margin:0}}):null,e.jsxs(le,{wrap:!0,style:{padding:"8px 12px"},children:[e.jsx(ae,{style:{fontWeight:500,marginRight:"8px"},children:o("%s:",k)}),e.jsx(Ie,{style:{margin:0},children:p})]},C)]})})})}),q?e.jsxs(e.Fragment,{children:[b!=null&&b.valid?e.jsx(It,{data:b}):null,U!=null&&U.valid?e.jsx(st,{data:U}):null,u.isEmpty(re)?null:e.jsx(nt,{data:re}),u.isEmpty(Te)?null:e.jsx(ot,{data:Te}),u.isEmpty(ss)?null:e.jsx(lt,{data:ss})]}):null]})});return Rn?e.jsx(dr,{}):e.jsxs(e.Fragment,{children:[e.jsxs(un,{style:{background:"transparent",minHeight:Rt?"auto":"calc(100vh - 150px)",padding:"16px 0"},children:[e.jsxs(Ft,{style:{padding:"0 16px"},children:[e.jsx(de,{children:e.jsx(P,{span:24,children:e.jsxs(oe,{size:"small",styles:{body:{background:"#fafafa"}},style:{margin:"0 0 32px 0"},children:[e.jsx(de,{gutter:8,align:"middle",children:e.jsxs(P,{children:[e.jsx(L,{size:"small",color:"default",variant:"text",style:{display:"inline",marginRight:"4px"},onClick:()=>{d("/")},children:e.jsx(Ir,{})}),e.jsx(kt,{level:5,style:{display:"inline",fontWeight:500,margin:0},children:r==null?void 0:r.title})]})}),e.jsx(R,{style:{margin:"12px 0"}}),e.jsxs(de,{gutter:8,align:"middle",children:[e.jsx(P,{xs:{order:3},sm:{order:1},children:e.jsxs(w,{children:[e.jsx(V,{permissions:["ticket-reply"],children:e.jsx(L,{color:"default",variant:"outlined",onClick:()=>{M||A(!0),K(!1)},disabled:M||!q&&(r==null?void 0:r.status)==="C"&&(J==null?void 0:J.disable_closed_ticket_reply),children:o("Reply")})}),q?e.jsxs(e.Fragment,{children:[e.jsx(V,{permissions:["create-note"],children:e.jsx(L,{color:"default",variant:"outlined",onClick:()=>{H||K(!0),A(!1)},disabled:H,children:o("Note")})}),c(["edit-assigned"])?e.jsx($s,{menu:{items:(Ts=ze==null?void 0:ze.filter(n=>{if((n==null?void 0:n.value)!=="")return!0}))==null?void 0:Ts.map(n=>({...n,key:n==null?void 0:n.value})),onClick:n=>{(r==null?void 0:r.assigned_on)!==(n==null?void 0:n.key)&&be("assigned_on",(n==null?void 0:n.key)||"")},defaultSelectedKeys:r!=null&&r.assigned_on?[r.assigned_on]:[],selectable:!0},placement:"bottom",trigger:["click"],children:e.jsx(X,{title:r!=null&&r.assigned_on_obj?e.jsxs(w,{direction:"vertical",align:"center",size:0,children:[e.jsx("span",{children:o("Assigned on:")}),e.jsx("span",{children:(Is=r==null?void 0:r.assigned_on_obj)==null?void 0:Is.display_name})]}):o("Unassigned"),children:r!=null&&r.assigned_on_obj?e.jsx(me,{src:((Fs=r==null?void 0:r.assigned_on_obj)==null?void 0:Fs.img)||"",style:{cursor:"pointer"}}):e.jsx(me,{icon:e.jsx(Ns,{}),style:{cursor:"pointer"}})})}):e.jsx(X,{title:r!=null&&r.assigned_on_obj?e.jsxs(w,{direction:"vertical",align:"center",size:0,children:[e.jsx("span",{children:o("Assigned on:")}),e.jsx("span",{children:(Es=r==null?void 0:r.assigned_on_obj)==null?void 0:Es.display_name})]}):o("Unassigned"),children:r!=null&&r.assigned_on_obj?e.jsx(me,{src:((ks=r==null?void 0:r.assigned_on_obj)==null?void 0:ks.img)||""}):e.jsx(me,{icon:e.jsx(Ns,{})})})]}):null]})}),s!=null&&s.xs?e.jsx(P,{xs:{order:2},span:24,children:e.jsx(R,{style:{margin:"12px 0"}})}):e.jsx(P,{sm:{order:2},flex:"auto"}),e.jsx(P,{xs:{order:1},sm:{order:3},children:e.jsxs(w,{children:[e.jsx(L,{icon:e.jsx(Fr,{}),onClick:Nn}),q?e.jsx(e.Fragment,{children:(r==null?void 0:r.status)==="D"?e.jsx(V,{permissions:["restore-ticket"],children:e.jsx(ve,{action:"restore",onConfirm:()=>ys("restore"),children:e.jsx(L,{children:o("Restore")})})}):e.jsx(V,{permissions:["edit-status"],children:e.jsx(ve,{action:(r==null?void 0:r.status)==="C"?"reopen":"close",onConfirm:()=>{(r==null?void 0:r.status)==="C"?be("status","R"):be("status","C")},children:e.jsx(L,{children:(r==null?void 0:r.status)==="C"?o("Re-open"):o("Close")})})})}):e.jsx(e.Fragment,{children:(J==null?void 0:J.close_ticket_opt_for_customer)==="Y"&&(r==null?void 0:r.status)!=="D"?e.jsx(ve,{action:(r==null?void 0:r.status)==="C"?"reopen":"close",onConfirm:()=>{(r==null?void 0:r.status)==="C"?be("status","R"):be("status","C")},children:e.jsx(L,{children:(r==null?void 0:r.status)==="C"?o("Re-open"):o("Close")})}):null}),q&&!u.isEmpty(_s())?e.jsx($s,{menu:{items:_s()},onOpenChange:(n,h)=>{(h.source==="trigger"||n)&&ee(n)},open:D,placement:"bottomRight",trigger:["click"],overlayClassName:"sg-confirm-dropdown",children:e.jsx(L,{icon:e.jsx(Er,{})})}):null,e.jsx(Ee,{showOn:["xs","sm","md"],children:F?e.jsx(L,{icon:e.jsx(kr,{}),onClick:()=>{N(!1)}}):e.jsx(X,{title:o("Ticket Data"),children:e.jsx(L,{icon:e.jsx(Rr,{}),onClick:()=>{N(!0)}})})})]})})]})]})})}),e.jsx(V,{permissions:["ticket-reply"],children:M?e.jsx(gt,{ticketId:f,ticketData:r,setReplyOpen:A,savedRepliesData:ne,fileSettingsData:Ne,basicSettings:J}):null}),q?e.jsx(V,{permissions:["create-note"],children:H?e.jsx(ut,{ticketId:f,setNoteOpen:K}):null}):null,e.jsx(de,{children:e.jsx(P,{span:24,children:e.jsx(oe,{size:"small",styles:{body:{padding:"0"}},style:{overflow:"hidden"},children:_==null?void 0:_.map((n,h)=>h?e.jsxs(e.Fragment,{children:[e.jsx(R,{style:{margin:"2px 0"}}),e.jsx(Js,{data:n,ticket:r,fileSettingsData:Ne},n==null?void 0:n.reply_id)]}):e.jsx(Js,{data:n,ticket:r,fileSettingsData:Ne},n==null?void 0:n.reply_id))})})})]}),e.jsx(Ee,{showOn:["lg","xl","xxl"],children:e.jsx(Et,{width:300,style:{background:"transparent",borderInlineStart:"1px solid rgba(5, 5, 5, 0.06)",padding:"0 16px"},children:ms})})]}),e.jsx(Ee,{showOn:["xs","sm","md"],children:e.jsx(Or,{title:o("Ticket Data"),onClose:An,open:F,children:ms})}),e.jsx(zr,{title:q&&m==="info"?o("Edit %s",o("Information")):o("Edit %s",o("Additional Data")),centered:!0,open:g,onCancel:Pe,onClose:Pe,footer:null,width:800,style:{maxWidth:"calc(100vw - 32px)",marginTop:"40px",marginBottom:"40px"},destroyOnClose:!0,children:q&&m==="info"?e.jsx(V,{permissions:["edit-assigned","edit-category","edit-status"],children:e.jsx(tt,{data:r,onCloseModal:Pe,agentUserSelectList:ze,categorySelectList:In,tagSelectList:Se,statusSelectList:ye})}):e.jsx(et,{ticketId:f,fields:G,onCloseModal:Pe})})]})}export{Ht as default};
